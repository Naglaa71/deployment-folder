"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_document-metadata_document-metadata_ts-ui_packages_filter_providers_index_ts"],{60188:(e,t,i)=>{i.d(t,{D:()=>l});var r=i(7572),a=i(97156);function l(e){if(!a.XC)return;let t=a.XC.querySelector("title"),i=a.XC.createElement("title");i.textContent=e,t?t.textContent!==e&&(t.replaceWith(i),(0,r.i)(e)):(a.XC.head.appendChild(i),(0,r.i)(e))}},28972:(e,t,i)=>{i.d(t,{$D:()=>a.$D,$_:()=>n,Fy:()=>o,_i:()=>a._i,a6:()=>a.a6,a7:()=>l,bO:()=>a.bO,dQ:()=>s});var r=i(31911),a=i(39168);let l={filterDelimiter:":",valueDelimiter:",",variant:"full"},s={priority:a.a6,filterTypes:{inclusive:!0,exclusive:!0,valueless:!0,multiKey:!0,multiValue:!0},support:{status:r.b9.Supported}},o={aliasMatching:!1,disableAdvancedTextFilter:!1},n=100},39168:(e,t,i)=>{i.d(t,{wO:()=>I,_i:()=>d,$D:()=>u,sS:()=>v,_W:()=>k,uK:()=>w,rt:()=>o,oO:()=>m,VT:()=>y,d6:()=>f,Ez:()=>x,mn:()=>_,a6:()=>n,$c:()=>h,OV:()=>g,jb:()=>N,bO:()=>p,yV:()=>c,BP:()=>b});var r=i(38621),a=i(31911);let l=[{value:"@today",displayName:"Today",priority:1,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"@today-1d",displayName:"Yesterday",priority:2,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:">@today-1w",displayName:"Past 7 days",priority:3,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:">@today-30d",displayName:"Past 30 days",priority:4,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:">@today-1y",displayName:"Past year",priority:5,icon:r.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:()=>{let e=new Date;return`${e.getFullYear()}-${`0${e.getMonth()+1}`.slice(-2)}-${`0${e.getDate()}`.slice(-2)}`},displayName:new Date().toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric"}),priority:6,icon:r.CalendarIcon}],s=[{value:"<10",displayName:"Less than 10",priority:1},{value:">10",displayName:"More than 10",priority:2},{value:"10..100",displayName:"Between 10 and 100",priority:3},{value:"100",displayName:"100",priority:4}],o="#INDETERMINANT#",n=10,u=5,d={archived:{displayName:"Archived",key:"archived",priority:10,icon:r.ArchiveIcon,description:"Specify archived or non-archived items only"},base:{displayName:"Base",key:"base",priority:n,icon:r.GitBranchIcon,description:"Pull Request base branch"},closed:{displayName:"Closed date",key:"closed",priority:n,icon:r.CalendarIcon,description:"Closing date"},comments:{displayName:"Comment count",key:"comments",priority:n,icon:r.CommentIcon,description:"Item comment count"},created:{displayName:"Creation date",key:"created",priority:n,icon:r.CalendarIcon,description:"Creation date"},draft:{displayName:"Draft",key:"draft",priority:n,icon:r.IssueDraftIcon,description:"Search for draft items"},has:{key:"has",displayName:"Has",description:"Filter by items with a specific metadata value",priority:n,icon:r.PlusCircleIcon},head:{displayName:"Head",key:"head",priority:n,icon:r.GitBranchIcon,description:"Head branch commit sha"},inBody:{displayName:"In body",key:"in-body",priority:n,icon:r.NoteIcon,description:"Search for text only inside the body of an item"},inComments:{displayName:"In comments",key:"in-comments",priority:n,icon:r.CommentDiscussionIcon,description:"Search for text only inside the comments of an item"},interactions:{displayName:"Interactions count",key:"interactions",priority:n,icon:r.CommentDiscussionIcon,description:"Interaction count"},inTitle:{displayName:"In title",key:"in-title",priority:n,icon:r.TypographyIcon,description:"Search for text only inside the title of an item"},is:{displayName:"Is",key:"is",icon:r.AppsIcon,description:'Filter only "issues", "pulls", "open", "closed", or "draft"',priority:3},in:{displayName:"In",key:"in",priority:n,icon:r.AppsIcon,description:"Limit text search to the title, body, or comments of an item or a combination of them"},language:{displayName:"Code language",key:"language",priority:n,icon:r.CodeIcon,description:"Code language"},linked:{displayName:"Linked",key:"linked",icon:r.GitPullRequestIcon,description:"Items linked to an issue or pull request",priority:n},memexState:{displayName:"State",key:"state",priority:3,icon:r.IssueDraftIcon,description:"Look for open, closed, or draft issues"},merged:{displayName:"Merge date",key:"merged",priority:n,icon:r.CalendarIcon,description:"Merge date"},milestone:{displayName:"Milestone",key:"milestone",priority:n,icon:r.MilestoneIcon,description:"Milestone"},no:{key:"no",displayName:"No",description:"Filter by items without a specific metadata value",priority:n,icon:r.NoEntryIcon},parentIssue:{displayName:"Parent issue",key:"parent-issue",priority:5,icon:r.IssueTrackedByIcon,description:"Parent issue"},prState:{displayName:"State",key:"state",priority:3,icon:r.IssueDraftIcon,description:"State of Pull Requests"},reactions:{displayName:"Reaction count",key:"reactions",priority:n,icon:r.SmileyIcon,description:"Reactions count"},reason:{displayName:"Closed reason",key:"reason",priority:n,icon:r.MentionIcon,description:"Filter by item closed reason"},review:{displayName:"Review state",key:"review",priority:n,icon:r.GitPullRequestIcon,description:"Specify a review state"},sha:{displayName:"Commit SHA",key:"sha",priority:n,icon:r.FileIcon,description:"Commit SHA"},sort:{displayName:"Sort",key:"sort",priority:n,icon:r.SortDescIcon,description:"Sort results"},state:{displayName:"State",key:"state",priority:3,icon:r.IssueDraftIcon,description:"Look for open / closed items"},status:{displayName:"Status",key:"status",priority:n,icon:r.IssueDraftIcon,description:"Commit status: pending | success | failure"},team:{displayName:"Team",key:"team",priority:n,icon:r.PeopleIcon,description:"Team name"},teamReviewRequested:{displayName:"Team review requested",key:"team-review-requested",priority:n,icon:r.PeopleIcon,description:"Review requested from team"},type:{displayName:"Type",key:"type",priority:n,icon:r.IssueOpenedIcon,description:"Specify the type of issue to search for"},updated:{displayName:"Update date",key:"updated",priority:n,icon:r.CalendarIcon,description:"Updated date"},repo:{displayName:"Repository",key:"repo",priority:1,icon:r.RepoIcon,description:"Filter by repository"},org:{displayName:"Organization",key:"org",aliases:["organization"],priority:2,icon:r.OrganizationIcon,description:"Filter by organization"},label:{displayName:"Label",key:"label",priority:3,icon:r.TagIcon,description:"Filter by label"},project:{displayName:"Project",key:"project",priority:3,icon:r.TableIcon,description:"Filter by project"}},c={assignee:{displayName:"Assignee",key:"assignee",icon:r.PersonIcon,description:"The assignee of the item",priority:3},author:{displayName:"Author",key:"author",icon:r.PersonIcon,description:"The author of the item",priority:3},commenter:{displayName:"Commenter",key:"commenter",icon:r.PersonIcon,description:"Items commented on by the user",priority:n},involves:{displayName:"Involves",key:"involves",icon:r.PersonIcon,description:"The user involved in the item",priority:n},mentions:{displayName:"Mentions",key:"mentions",icon:r.MentionIcon,description:"The user mentioned in the item",priority:n},reviewedBy:{displayName:"Reviewed by",key:"reviewed-by",icon:r.PersonIcon,description:"Items reviewed by the user",priority:n},reviewRequested:{displayName:"Review requested",key:"review-requested",icon:r.PersonIcon,description:"Items with review requested for the user",priority:n},user:{displayName:"User",key:"user",icon:r.PersonIcon,description:"Items in repositories owned by the user",priority:n},userReviewRequested:{displayName:"User review requested",key:"user-review-requested",icon:r.MentionIcon,description:"Items with review requested for the user explicitly",priority:n}};Object.values(c);let p=[{value:"true",displayName:"True",priority:1,aliases:["yes"]},{value:"false",displayName:"False",priority:2,aliases:["no"]}],v={archived:p,closed:l,comments:s,created:l,draft:p,interactions:s,is:[{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}],in:[{value:"title",displayName:"Title",priority:1,icon:r.TypographyIcon},{value:"body",displayName:"Body",priority:2,icon:r.NoteIcon},{value:"comments",displayName:"Comments",priority:3,icon:r.CommentDiscussionIcon}],linked:[{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}],sort:[],memexState:[{value:"open",displayName:"Open",priority:1,icon:r.IssueOpenedIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"},{value:"closed",displayName:"Closed",priority:2,icon:r.IssueClosedIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"draft",displayName:"Draft",priority:3,icon:r.IssueDraftIcon,iconColor:"var(-fgColor-muted, var(--color-neutral-emphasis))"}],merged:l,prState:[{value:"open",displayName:"Open",icon:r.GitPullRequestIcon,priority:1,iconColor:"var(--fgColor-open, var(--color-open-fg))"},{value:"merged",displayName:"Merged",icon:r.GitMergeIcon,priority:2,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"draft",displayName:"Draft",icon:r.GitPullRequestDraftIcon,priority:3,iconColor:"var(--fgColor-muted, var(--color-fg-muted))"},{value:"closed",displayName:"Closed",icon:r.GitPullRequestClosedIcon,priority:4,iconColor:"var(--fgColor-closed, var(--color-closed-fg))"}],reactions:s,reason:[{value:"completed",displayName:"Completed",priority:1,icon:r.CheckCircleIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},{value:"not-planned",displayName:"Not planned",priority:2,icon:r.SkipIcon,iconColor:"var(--fgColor-muted, var(--color-neutral-emphasis))"},{value:"duplicate",displayName:"Duplicate",priority:3,icon:r.SkipIcon,iconColor:"var(--fgColor-muted, var(--color-neutral-emphasis))"}],review:[{value:"none",displayName:"No reviews",priority:1},{value:"required",displayName:"Review required",priority:2},{value:"approved",displayName:"Approved",priority:3},{value:"changes_requested",displayName:"Changes requested",priority:4}],state:[{value:"open",displayName:"Open",priority:1,icon:r.IssueOpenedIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"},{value:"closed",displayName:"Closed",priority:2,icon:r.IssueClosedIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"}],status:[{value:"pending",displayName:"Pending",priority:1,icon:r.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))"},{value:"success",displayName:"Success",priority:2,icon:r.CheckCircleFillIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"},{value:"failure",displayName:"Failure",priority:3,icon:r.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))"},{value:"queued",displayName:"Queued",priority:4,icon:r.IssueOpenedIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"},{value:"waiting",displayName:"Waiting",priority:4,icon:r.ClockIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"},{value:"cancelled",displayName:"Cancelled",priority:4,icon:r.StopIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"},{value:"skipped",displayName:"Skipped",priority:4,icon:r.SkipIcon,iconColor:"var(--fgColor-muted, var(--color-fg-subtle))"}],type:[{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}],updated:l};d.team,d.teamReviewRequested;let y={action:{value:"action",displayName:"Action",priority:3,icon:r.PlayIcon},closed:{value:"closed",displayName:"Closed",priority:2,icon:r.IssueClosedIcon},codespace:{value:"codespace",displayName:"Codespace",priority:3,icon:r.CodespacesIcon},discussion:{value:"discussion",displayName:"Discussion",priority:4,icon:r.CommentDiscussionIcon},draft:{value:"draft",displayName:"Draft",priority:3,icon:r.GitPullRequestDraftIcon},issue:{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},locked:{value:"locked",displayName:"Locked",priority:4,icon:r.LockIcon},merged:{value:"merged",displayName:"Merged",priority:3,icon:r.GitMergeIcon},open:{value:"open",displayName:"Open",priority:1,icon:r.IssueOpenedIcon},pr:{value:"pr",displayName:"Pull Request",priority:1,icon:r.GitPullRequestIcon},repository:{value:"repository",displayName:"Repository",priority:2,icon:r.RepoIcon},unlocked:{value:"unlocked",displayName:"Unlocked",priority:4,icon:r.UnlockIcon}},m={title:{value:"title",displayName:"Title",priority:1,icon:r.TypographyIcon},body:{value:"body",displayName:"Body",priority:2,icon:r.NoteIcon},comments:{value:"comments",displayName:"Comments",priority:3,icon:r.CommentDiscussionIcon}},h={created:[{value:"created-desc",displayName:"Newest",priority:0,aliases:["created"]},{value:"created-asc",displayName:"Oldest",priority:1}],updated:[{value:"updated-desc",displayName:"Recently updated",priority:2,aliases:["updated"]},{value:"updated-asc",displayName:"Least recently updated",priority:3}],comments:[{value:"comments-desc",displayName:"Most commented",priority:4,aliases:["interactions","interactions-desc","comments"]},{value:"comments-asc",displayName:"Least commented",priority:5,aliases:["interactions-asc"]}],reactions:[{value:"reactions-desc",displayName:"Most reactions",priority:6,aliases:["reactions"]},{value:"reactions-asc",displayName:"Least reactions",priority:7}],"committer-date":[{value:"committer-date-desc",displayName:"Most recent committer date",priority:8,aliases:["committer-date"]},{value:"committer-date-asc",displayName:"Least recent committer date",priority:9}],"author-date":[{value:"author-date-desc",displayName:"Most recent author date",priority:9,aliases:["author-date"]},{value:"author-date-asc",displayName:"Least recent author date",priority:9}],relevance:[{value:"relevance",displayName:"Best match",priority:10,aliases:["relevance-desc"]}]},g=[{value:"reactions-+1",displayName:"Most thumbs up (\u{1F44D}) reactions",priority:10,aliases:["reactions-+1-desc"]},{value:"reactions--1",displayName:"Most thumbs down (\u{1F44E}) reactions",priority:10,aliases:["reactions--1-desc"]},{value:"reactions-smile",displayName:"Most laugh (\u{1F604}) reactions",priority:10,aliases:["reactions-smile-desc"]},{value:"reactions-thinking_face",displayName:"Most confused (\u{1F615}) reactions",priority:10,aliases:["reactions-thinking_face-desc"]},{value:"reactions-tada",displayName:"Most hooray (\u{1F389}) reactions",priority:10,aliases:["reactions-tada-desc"]},{value:"reactions-heart",displayName:"Most heart (\u2764\uFE0F) reactions",priority:10,aliases:["reactions-heart-desc"]},{value:"reactions-eyes",displayName:"Most eyes (\u{1F440}) reactions",priority:10,aliases:["reactions-eyes-desc"]},{value:"reactions-rocket",displayName:"Most rocket (\u{1F680}) reactions",priority:10,aliases:["reactions-rocket-desc"]}],f=["AND","OR"],x={issue:{value:"issue",displayName:"Issue",priority:1,icon:r.IssueOpenedIcon},pr:{value:"pr",displayName:"Pull Request",priority:2,icon:r.GitPullRequestIcon}},_=5,N=["sort","user","org","repo"],I=["@","*"],k={IsOneOf:"is one of",IsNotOneOf:"is not one of",Is:"is",IsNot:"is not",GreaterThan:"greater than",LessThan:"less than",GreaterThanOrEqualTo:"greater than or equal to",LessThanOrEqualTo:"less than or equal to",EqualTo:"equal to",Before:"before",After:"after",BeforeAndIncluding:"before and including",AfterAndIncluding:"after and including",Between:"between"},b=[a.tl.GreaterThan,a.tl.LessThan,a.tl.GreaterThanOrEqualTo,a.tl.LessThanOrEqualTo,a.tl.Before,a.tl.After,a.tl.Between],w={select:{single:[a.tl.Is,a.tl.IsNot],multi:[a.tl.IsOneOf,a.tl.IsNotOneOf]},user:{single:[a.tl.Is,a.tl.IsNot],multi:[a.tl.IsOneOf,a.tl.IsNotOneOf]},text:{single:[a.tl.Is,a.tl.IsNot],multi:[a.tl.IsOneOf,a.tl.IsNotOneOf]},date:[a.tl.Before,a.tl.After,a.tl.BeforeAndIncluding,a.tl.AfterAndIncluding,a.tl.Between,a.tl.IsOneOf,a.tl.IsNotOneOf],number:[a.tl.EqualTo,a.tl.GreaterThan,a.tl.GreaterThanOrEqualTo,a.tl.LessThan,a.tl.LessThanOrEqualTo,a.tl.Between],boolean:[a.tl.Is,a.tl.IsNot],rawText:[a.tl.Is],unknown:[a.tl.Is,a.tl.IsNot]}},55782:(e,t,i)=>{i.d(t,{D:()=>a});var r=i(39168);let a={filterInvalid:e=>`Filter contains ${e} issue${1===e?"":"s"}:`,filterBlockInvalid:e=>`${e} is invalid`,filterProviderNotSupported:e=>`Filter '${e}' not supported`,filterProviderDeprecated:e=>`Filter '${e}' is deprecated and will be removed in the future`,filterValueEmpty:e=>`Empty value for <pre>${e}</pre>`,filterMultiValueFalse:e=>`Only one value allowed for <pre>${e}</pre>`,filterInvalidValue:(e,t)=>`Invalid value <pre>${t}</pre> for <pre>${e}</pre>`,filterProviderTopLevel:e=>`Filter <pre>${e}</pre> cannot be used within groups`,unbalancedQuotations:"Unbalanced quotation marks",unbalancedParentheses:"Unbalanced parentheses",maxNestedGroups:`Maximum nested groups of ${r.mn} exceeded`,advancedFilterDialogCloseConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",cancelButtonContent:"Keep editing",confirmButtonContent:"Close and discard"},exclude:"Exclude",dividerValue:"%%DIVIDER%%"}},10162:(e,t,i)=>{i.d(t,{Ge:()=>a.Ge,Pt:()=>s.Pt,U2:()=>l.U2,g0:()=>r.g0});var r=i(32599),a=i(34532),l=i(21468),s=i(73476)},58735:(e,t,i)=>{i.d(t,{N:()=>FilterQuery});var r=i(93800),a=i(91385),l=i(28972),s=i(39168),o=i(55782),n=i(31911),u=i(37932);function d(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function p(e,t){var i=c(e,t,"get");return i.get?i.get.call(e):i.value}function v(e,t,i){d(e,t),t.set(e,i)}function y(e,t,i){var r=c(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,r,i),i}var m=new WeakMap,h=new WeakMap,g=new WeakMap,f=new WeakMap,x=new WeakMap,_=new WeakMap,N=new WeakMap,I=new WeakSet;let FilterQuery=class FilterQuery{get activeBlock(){return p(this,m)}get activeBlockId(){return p(this,m)?.id??-1}get blocks(){return p(this,h)}clearActiveBlock(){y(this,m,void 0)}get context(){let e={...p(this,g)??{},...p(this,f)??{}};if(!p(this,g)?.repo){let t=p(this,h).filter(e=>(0,u.aK)(e)&&"repo"===e.provider.key).map(e=>e.value.values.map(e=>!1!==e.valid?(0,u.I8)(e.value)??"":"")).flat();if(t.length>0&&(e.repo=t.join(",")),!p(this,g)?.org){let t=p(this,h).filter(e=>(0,u.aK)(e)&&"org"===e.provider.key).map(e=>e.value.values.map(e=>!1!==e.valid?(0,u.I8)(e.value)??"":"")).flat();t.length>0&&(e.org=t.join(","))}}return e}get contextURLParams(){return new URLSearchParams(this.context)}get errors(){return p(this,x)?Array.from(p(this,x)):[]}getErrors(e=!1){return e?[...p(this,x),...p(this,_)]:p(this,x)}get filterCount(){if(!this.isValidated||!(0,u.Ed)(this))return this.cachedFilterCount;let e=this.blocks.filter(e=>(0,u.aK)(e)&&e.value.values.some(e=>e.valid)).length;return this.cachedFilterCount=e,e}get filtersUsed(){if(!(0,u.Ed)(this))return this.cachedFiltersUsed;let e=(0,u.wR)(this.blocks).filter(e=>(0,u.aK)(e)).map(e=>e.provider?.key);return this.cachedFiltersUsed=e,e}get instanceContext(){return{cachedFilterCount:this.cachedFilterCount,cachedFiltersUsed:this.cachedFiltersUsed,cachedNestedGroupCount:this.cachedNestedGroupCount,staticContext:p(this,g)}}get nestedGroupCount(){if(!(0,u.Ed)(this))return this.cachedNestedGroupCount;let e=(0,u.wR)(this.blocks).filter(e=>(0,u.W9)(e)).reduce((e,t)=>Math.max(e,t.groupDepth||0),0);return this.cachedNestedGroupCount=e,e}get raw(){return p(this,N)}get staticContext(){return p(this,g)}set staticContext(e){y(this,g,e)}set additionalParams(e){y(this,f,e)}addQueryParam(e,t){p(this,f)||y(this,f,{}),p(this,f)[e]=t}async getSuggestions(e,t,i){let l=this.activeBlock,d=[];if(!l&&""===this.raw||l?.type===n._B.Space||l?.type===n._B.UnmatchedOpenParen||l?.type===n._B.Group&&(l?.raw.endsWith("(")||l?.raw==="()")){d=[{id:"providers-suggestion-group",suggestions:Object.values(t).filter(e=>(e.options.filterTypes?.multiKey!==!1||e.options.filterTypes?.multiKey===!1&&this.blocks.filter(t=>(0,u.aK)(t)&&t.key.value===e.key).length<1)&&e.options.support.status===n.b9.Supported).filter(e=>e.priority<=s.$D).sort((e,t)=>e.priority-t.priority).map(e=>({type:n.ak.Key,displayName:e.displayName,ariaLabel:`${e.displayName}, Filter${e.description?`, ${e.description}`:""}`,priority:e.priority,icon:e.icon,value:e.key}))}];let e=[];i.groupAndKeywordSupport&&(e.push((0,u.PU)()),e.push((0,u.j1)())),Object.values(t).filter(e=>!0===e.options.filterTypes.exclusive&&(e.options.filterTypes?.multiKey!==!1||e.options.filterTypes?.multiKey===!1&&this.blocks.filter(t=>(0,u.aK)(t)&&t.key.value===e.key).length<1)).length>0&&e.push((0,u.m1)()),d.push({id:"utility-suggestion-group",suggestions:e})}else if(l?.type===n._B.Text&&"-"===l.raw){let e=Object.values(t).filter(e=>e.options.filterTypes.exclusive&&e.options.support.status===n.b9.Supported).filter(e=>e.priority<=s.$D).sort((e,t)=>e.priority-t.priority).map(e=>({type:n.ak.Key,displayName:e.displayName,ariaLabel:`${e.displayName}, Filter${e.description?`, ${e.description}`:""}`,priority:e.priority,icon:e.icon,value:`-${e.key}`}));d=[{id:"exclude-providers",title:o.D.exclude,suggestions:e}]}else if(l?.type===n._B.Text){let a=[],s=(0,u.ON)(l)?l:null,o=s&&e-s.startIndex<=s.raw.indexOf(i.filterDelimiter)?s.raw.substring(0,e-s.startIndex):l.raw;Object.values(t).map(e=>{if((e.key.startsWith(o)||e.displayName&&e.displayName.startsWith(o)||i.aliasMatching&&e.aliases?.some(e=>e.startsWith(o))||e.options.filterTypes.exclusive&&(`-${e.key}`.startsWith(o)||i.aliasMatching&&e.aliases?.some(e=>`-${e}`.startsWith(o))))&&(!1!==e.options.filterTypes.multiKey||this.blocks.filter(t=>(0,u.aK)(t)&&t.key.value===e.key).length<1)&&e.options.support.status===n.b9.Supported){let t=e.key;l.raw.startsWith("-")&&e.options.filterTypes.exclusive&&(t=`-${e.key}`),a.push({type:n.ak.Key,displayName:e.displayName,ariaLabel:`${e.displayName}, Filter${e.description?`, ${e.description}`:""}`,priority:e.priority-(0,r.dt)(o,e.key),icon:e.icon,value:t})}}),a.sort((e,t)=>e.priority-t.priority),d=[{id:"providers-suggestion-group",suggestions:a}];let c=[];i.groupAndKeywordSupport&&("and".startsWith(o.toLocaleLowerCase())&&c.push((0,u.PU)()),"or".startsWith(o.toLocaleLowerCase())&&c.push((0,u.j1)())),d.push({id:"utility-suggestion-group",suggestions:c})}else if((0,u.aK)(l)){let s=[],o=(0,u.Xz)(l.key.value);if((0,u.v7)(l)){let[c,p]=(0,u.t4)(l,e);if("key"===c){let e=[];Object.values(t).map(t=>{((0,a.qA)(p.value,t.key)||t.options.filterTypes.exclusive&&(0,a.qA)(p.value,`-${t.key}`))&&(!1!==t.options.filterTypes.multiKey||this.blocks.filter(e=>(0,u.aK)(e)&&e.key.value===t.key).length<1)&&e.push({type:n.ak.Key,displayName:t.displayName,ariaLabel:`${t.displayName}, Filter${t.description?`, ${t.description}`:""}`,priority:t.priority-(0,r.dt)(p.value,t.key),icon:t.icon,value:t.key})}),e.sort((e,t)=>e.priority-t.priority),d=[{id:"providers-suggestion-group",suggestions:e}]}else if("value"===c){let r=t[o]??(i.aliasMatching?Object.values(t).find(e=>e.aliases?.includes(o)):null),a=await r?.getSuggestions(this,l,i,e);s=a?.filter(e=>0>l.value.values.findIndex(t=>u.M5(t.value)===e.value&&!t.hasCaret)).sort((e,t)=>e.priority-t.priority)??[]}}d=[{id:"values-suggestion-group",suggestions:s}]}return d}constructor(e="",t=[],i,r,a,s=!1){!function(e,t){d(e,t),t.add(e)}(this,I),v(this,m,{writable:!0,value:void 0}),v(this,h,{writable:!0,value:void 0}),v(this,g,{writable:!0,value:void 0}),v(this,f,{writable:!0,value:void 0}),v(this,x,{writable:!0,value:void 0}),v(this,_,{writable:!0,value:void 0}),v(this,N,{writable:!0,value:void 0}),this.cachedFilterCount=0,this.cachedFiltersUsed=[],this.cachedNestedGroupCount=0,this.isValidated=!1,y(this,g,{}),y(this,f,{}),y(this,x,[]),y(this,_,[]),y(this,h,t),y(this,N,e),y(this,m,r),this.isValidated=s,a&&(y(this,g,a.staticContext),this.cachedFilterCount=a.cachedFilterCount??0,this.cachedFiltersUsed=a.cachedFiltersUsed??[],this.cachedNestedGroupCount=a.cachedNestedGroupCount??0),this.config=i??l.a7,(function(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i})(this,I,k).call(this,t)}};function k(e){let t=new Set,i=new Set,r=e=>{for(let a of e)if((0,u.W9)(a)){if(!a.valid)for(let e of a.validations??[])e.message&&t.add(e.message);r(a.blocks)}else if((0,u.aK)(a)&&!1===a.valid&&this.activeBlockId!==a.id){if(a.validationMessage&&t.add(a.validationMessage??""),!a.key.valid)for(let e of a.key.validations??[])e.message&&t.add(e.message);for(let e of a.value.values)if(!1===e.valid){if(e.validations)for(let i of e.validations??[])i.message&&t.add(i.message);else t.add(o.D.filterInvalidValue(a.key.value,(0,u.q5)((0,u.I8)(e.value))??""))}}else if(((0,u.oE)(a)||(0,u.iy)(a))&&a.validations)i.add(o.D.unbalancedParentheses);else if((0,u.ON)(a))for(let e of a.validations??[])e.message&&i.add(e.message)};(p(this,N).match(/"/g)??[]).length%2!=0&&i.add(o.D.unbalancedQuotations),r(e),y(this,x,Array.from(t)),y(this,_,Array.from(i))}},49929:(e,t,i)=>{i.d(t,{i:()=>FilterQueryParser});var r=i(46632),a=i(28972),l=i(39168),s=i(55782),o=i(58735),n=i(31911),u=i(37932);let d=(0,r.A)((e,t)=>RegExp(`([\\s${e}"]*?)((?:>|<|>=|<=)*[\\w\\d\\-_"'?/\\.=+!@#$%^&*`+(t?");:\\p{Extended_Pictographic}]*)$":"();:\\p{Extended_Pictographic}]*)$"),"gu"));function c(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function p(e,t){var i=c(e,t,"get");return i.get?i.get.call(e):i.value}function v(e,t,i){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,i)}function y(e,t,i){var r=c(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,r,i),i}let m=(0,r.A)((e,t)=>RegExp(`[\\s${e}${t?")":""}](?=(?:[^"]*"[^"]*")*[^"]*$)`,"g")),h=(0,r.A)(e=>RegExp(`${e}(?=(?:[^"]*"[^"]*")*[^"]*$)`,"g"));var g=new WeakMap,f=new WeakMap;let FilterQueryParser=class FilterQueryParser{parse(e,t=new o.N("",[],this.config),i=-1){let r,a=function(e,t,i=-1){let{matchedParens:r,unmatchedOpenParens:a,unmatchedCloseParens:o}=function(e){let t=[],i=[],r=!1,a=new Set,l=new Set;for(let a=0;a<e.length;a++)'"'===e[a]&&(r=!r),"("!==e[a]||r?")"===e[a]&&!r&&t.length>0?i.push([t.pop(),a]):")"!==e[a]||r||l.add(a):t.push(a);let s=new Map;for(let[e,t]of i)s.set(e,t);for(let e of t)a.add(e);return{matchedParens:s,unmatchedOpenParens:a,unmatchedCloseParens:l}}(e),d=0,c=0,p=0;return function v(y=e.length){let m=[],h=e.substring(0,y);for(;d<y;)if(t&&void 0!==r.get(d)){let t=d,a=r.get(d);d+=1;let o=(p+=1)>l.mn;m.push({id:c,type:n._B.Group,raw:e.substring(t,a+1),blocks:v(a),groupDepth:p,startIndex:t,endIndex:a,hasCaret:(0,u.dV)(i,t,a),valid:!o,validations:o?[{type:n.b.MaxNestedGroups,message:s.D.maxNestedGroups}]:[]}),p-=1,d=a+1}else if(t&&"("===h[d])m.push({id:c,type:n._B.UnmatchedOpenParen,raw:"(",startIndex:d,endIndex:d+1,hasCaret:(0,u.dV)(i,d+1,d+1),valid:!1,validations:[{type:n.b.UnbalancedParentheses,message:s.D.unbalancedParentheses}]}),c+=1,d+=1;else if(t&&")"===h[d])m.push({id:c,type:n._B.UnmatchedCloseParen,raw:")",startIndex:d,endIndex:d+1,hasCaret:(0,u.dV)(i,d+1,d+1),valid:!1,validations:[{type:n.b.UnbalancedParentheses,message:s.D.unbalancedParentheses}]}),c+=1,d+=1;else if(h[d]?.search(/\s/)===0){let e=h[d]??"";for(let t=d+1;t<y;t++)if(h[t]?.search(/\s/)===0)e+=h[t]??"";else break;m.push({id:c,type:n._B.Space,raw:e,startIndex:d,endIndex:d+e?.length,hasCaret:(0,u.dV)(i,d+1,d+e?.length)}),c+=1,d+=e?.length}else{let e;let r=function(e,t,i){let r=0,a=null;do{let l=a?a+1:t,s=i?e.slice(l).search(/\s|\(|\)/):e.slice(l).search(/\s/);a=-1===s?-1:l+s,r=0;for(let t=0;t<a;t++)'"'===e[t]&&(r+=1)}while(r%2==1)return a}(h,d,t);r>-1&&(e=r>-1&&h[r]?.match(/\s/)?r+1:r);let l=h.substring(d,e).trimEnd();m.push({id:c,type:n._B.Text,raw:l,startIndex:d,endIndex:d+l.length,hasCaret:(0,u.dV)(i,d,d+l.length),valid:0===a.size&&0===o.size,validations:[]}),c+=1,d+=l.length}return m}()}(e,this.config.groupAndKeywordSupport??!1,i),d=e=>{for(let[t,a]of e.entries())if(a.type!==n._B.Space&&a.type!==n._B.UnmatchedOpenParen&&a.type!==n._B.UnmatchedCloseParen){if(this.config.groupAndKeywordSupport&&(0,u.W9)(a))a.blocks=d(a.blocks),!a.blocks.length&&a.hasCaret&&(r=a);else{let s=a;if(this.config.groupAndKeywordSupport&&l.d6.includes(s.raw))s.type=n._B.Keyword;else{let r=s.raw,a=r.indexOf(this.config.filterDelimiter),l=r.substring(0,a),o=this.filterProviders.find(e=>e.key===l||e.aliases?.some(e=>e===l)||e.options?.filterTypes.exclusive&&`-${e.key}`===l);o&&(s=this.processFilterBlock(s,o,a,i),e[t]=s)}s.hasCaret&&(r=s)}}else a.type===n._B.Space&&a.hasCaret?r=a:a.type===n._B.UnmatchedOpenParen&&a.hasCaret?r=a:a.type===n._B.UnmatchedCloseParen&&a.hasCaret&&(r=a);return e};return a=d(a),new o.N(e,a,this.config,r,t.instanceContext)}replaceActiveBlockWithPresenceBlock(e,t){let i;let r=0,a=e.activeBlock;if(!(a&&(0,u.v7)(a)))return[e.raw,e.raw.length];{let l=e.raw.substring(0,a.startIndex),s=e.raw.substring(a.endIndex);return r=(i=`${l}${t}${this.config.filterDelimiter}${a.key.value}`).length,[i+=s&&s[0]?.search(/\s/)!==0?` ${s}`:s,r]}}insertSuggestion(e,t,i){let r;let a=0,l=e.activeBlock;if(l&&(0,u.v7)(l)){let s=e.raw.substring(0,l.startIndex),o=e.raw.substring(l.endIndex),n=[],d=l.key.value;if(t.startsWith("-"))d=t,a=(r=`${s}${d}${this.config.filterDelimiter}`).length;else{for(let e of l.value.values)(0,u.dV)(i,e.startIndex,e.endIndex)?(a=e.startIndex+t.length,n.push(t)):n.push((0,u.I8)(e.value)??"");r=`${s}${d}${this.config.filterDelimiter}${n.join(this.config.valueDelimiter)}`}r+=o}else if(l&&(0,u.ON)(l)&&i-l.startIndex<=l.raw.indexOf(this.config.filterDelimiter)){let i=e.raw.substring(0,l.startIndex),s=e.raw.substring(l.endIndex),o=l.raw.indexOf(this.config.filterDelimiter),n=l.raw.substring(o+1);r=`${i}${t}${n}${s}`,a=i.length+t.length}else if(i>=0){let l=e.raw.substring(0,i),s=e.raw.substring(i);this.NEXT_DELIMITER_REGEX.lastIndex=0;let o=this.NEXT_DELIMITER_REGEX.exec(s);s=o?s.substring(o.index):"",r=(l=l.replace(this.LAST_DELIMITER_REGEX,"$1")+t)+s,a=l.length}else a=(r=e.raw+t).length;return[r,a]}getRaw(e){let t="";for(let i of e.blocks)(0,u.aK)(i)?t+=i.key.value+(i.value.raw?`${e.config.filterDelimiter}${i.value.raw}`:""):t+=i.raw;return t}validateFilterProvider(e,t=!1){return e.options.support.status===n.b9.Unsupported?[!1,{type:n.b.FilterProviderUnsupported,message:e.options.support.message??s.D.filterProviderNotSupported(e.key)}]:e.options.support.status===n.b9.Deprecated?[!1,{type:n.b.FilterProviderDeprecated,message:e.options.support.message??s.D.filterProviderDeprecated(e.key)}]:!t&&l.jb.includes(e.key)?[!1,{type:n.b.FilterProviderTopLevel,message:s.D.filterProviderTopLevel(e.key)}]:[!0,void 0]}processFilterBlock(e,t,i,r){let a=e.startIndex,l=e.raw.substring(0,i),s=e.raw.substring(i+1),o=(0,u.zB)(t,l,s)??n.tl.Is,d=a+i+1,c=s.split(this.ITEMS_REGEX);if(o===n.tl.Between){let e=[];c.map(t=>{let i=t.split("..").filter(e=>e);i.length<2&&(t.startsWith("..")?i=["",...i]:i.push("")),e=[...e,...i]}),c=e}let v=c.map(e=>{let t={startIndex:d,endIndex:d+e.length,hasCaret:(0,u.dV)(r,d,d+e.length),value:e,valid:!!p(this,f).has(`${l}${this.config.filterDelimiter}${(0,u.I8)(e)}`)||void 0},i=o===n.tl.Between?2:1;return d=d+e.length+i,t});return{...e,type:n._B.Filter,provider:t,operator:o,valid:!!p(this,f).has(e.raw)||void 0,key:{startIndex:a,endIndex:a+i,hasCaret:(0,u.dV)(r,a,a+i),value:l},value:{startIndex:a+i+1,endIndex:a+e.raw.length,hasCaret:(0,u.dV)(r,a+i+1,a+e.raw.length),values:v,raw:s}}}async validateQueryBlock(e,t,i=!1){if((0,u.v7)(e)){let[r,a]=this.validateFilterProvider(e.provider,i),l=await e.provider.validateFilterBlockValues?.(t,e,e.value.values,this.config);l.map(t=>{t.valid&&p(this,f).add(`${e.provider.key}${this.config.filterDelimiter}${(0,u.I8)(t.value)}`)});let s=l.every(e=>e.valid)&&r;return s&&p(this,f).add(e.raw),{...e,valid:s,key:{...e.key,valid:r,validations:a?[a]:void 0},value:{...e.value,values:l}}}return e}async validateGroupBlock(e,t){let i=await Promise.all(e.blocks.map(e=>(0,u.W9)(e)?this.validateGroupBlock(e,t):this.validateQueryBlock(e,t)));return{...e,blocks:i}}async validateFilterQuery(e){let t=[];e.blocks.map(i=>{(0,u.W9)(i)?t.push(this.validateGroupBlock(i,e)):(0,u.h8)(i)&&t.push(this.validateQueryBlock(i,e,!0))});let i=await Promise.all(t);return!p(this,g)[e.raw]&&(0,u.Ed)(e)&&(p(this,g)[e.raw]=e),new o.N(e.raw,i,this.config,e.activeBlock,e.instanceContext,!0)}constructor(e=[],t){v(this,g,{writable:!0,value:void 0}),v(this,f,{writable:!0,value:void 0}),this.filterProviders=[],y(this,g,{}),this.filterProviders=e,this.config=t??a.a7,y(this,f,new Set),this.NEXT_DELIMITER_REGEX=m(this.config.valueDelimiter,this.config.groupAndKeywordSupport??!1),this.ITEMS_REGEX=h(this.config.valueDelimiter),this.LAST_DELIMITER_REGEX=d(this.config.valueDelimiter,this.config.groupAndKeywordSupport??!1)}}},90797:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"},{defaultValue:null,kind:"LocalArgument",name:"owner"}],t=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Literal",name:"first",value:10}],r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"typeFilterIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[r],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"typeFilterIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[r,a],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"},a],storageKey:null}]},params:{id:"7471367246cf3b20c118278cf523c0e9",metadata:{},name:"typeFilterIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="8c9fc35881bc4e3780186dbfeb49e087";let a=r},55536:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"login"},{defaultValue:null,kind:"LocalArgument",name:"number"}],t=[{kind:"Variable",name:"login",variableName:"login"}],i=[{kind:"Variable",name:"number",variableName:"number"}],r={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"typeFilterProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[r],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"typeFilterProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[r,a],storageKey:null},a],storageKey:null}]},params:{id:"7b526489d1e08174583970802a93417f",metadata:{},name:"typeFilterProjectIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="60d6d2b3409ce4dee63013753e4acfe2";let a=r},95723:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"typeFilterViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"typeFilterViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"c3666f29c9feb3c2e86787b98e9fe48a",metadata:{},name:"typeFilterViewerIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="b464effe8e3d73669952ff2bc6578276";let a=r},24763:(e,t,i)=>{i.d(t,{M:()=>HasFilterProvider});var r=i(31911),a=i(81974);let HasFilterProvider=class HasFilterProvider extends a.Q{constructor(e,t){super(e,r.ak.HasValue,t)}}},66657:(e,t,i)=>{i.d(t,{AR:()=>ArchivedFilterProvider,n5:()=>AssigneeFilterProvider,kr:()=>AsyncFilterProvider,Bc:()=>AuthorFilterProvider,dR:()=>BaseFilterProvider,Qh:()=>BaseUserFilterProvider,Wq:()=>BooleanFilterProvider,ws:()=>ClosedFilterProvider,_N:()=>CommenterFilterProvider,Ge:()=>CommentsFilterProvider,_O:()=>CreatedFilterProvider,FZ:()=>DraftFilterProvider,Ws:()=>HeadFilterProvider,jd:()=>InBodyFilterProvider,z_:()=>InCommentsFilterProvider,HD:()=>InFilterProvider,$W:()=>InTitleFilterProvider,NT:()=>InteractionsFilterProvider,IL:()=>InvolvesFilterProvider,I4:()=>IsFilterProvider,jf:()=>KeyOnlyFilterProvider,aF:()=>LabelFilterProvider,a2:()=>LanguageFilterProvider,d$:()=>LinkedFilterProvider,Pd:()=>MentionsFilterProvider,Or:()=>MergedFilterProvider,Qq:()=>MilestoneFilterProvider,E:()=>OrgFilterProvider,$q:()=>ParentIssueFilterProvider,FG:()=>ProjectFilterProvider,WE:()=>ReactionsFilterProvider,Ag:()=>ReasonFilterProvider,pH:()=>RepositoryFilterProvider,A6:()=>ReviewFilterProvider,kL:()=>ReviewRequestedFilterProvider,sW:()=>ReviewedByFilterProvider,KX:()=>ShaFilterProvider,uB:()=>SortFilterProvider,PT:()=>StateFilterProvider,uy:()=>StaticFilterProvider,C2:()=>StatusFilterProvider,NN:()=>TeamFilterProvider,X_:()=>TeamReviewRequestedFilterProvider,QO:()=>TypeFilterProvider,pv:()=>UpdatedFilterProvider,Dv:()=>UserFilterProvider,LB:()=>UserReviewRequestedFilterProvider});var r=i(34850),a=i(39168),l=i(55782),s=i(73476),o=i(31911),n=i(37932),u=i(37015);let d=class ValidationAbortController extends AbortController{abortIfChanged(e){(void 0===e||e!==this.rawQuery)&&this.abort()}constructor(e){super(),this.rawQuery=e}};let AsyncFilterProvider=class AsyncFilterProvider extends u.A{abortPreviousSuggestionsRequests(){this.abortSuggestionsController.abort(),this.abortSuggestionsController=new AbortController}abortPreviousValidationRequests(e){this.abortValidationController.abortIfChanged(e?.raw),this.abortValidationController=new d(e?.raw)}getFilterValue(e,t){return t||((0,n.I8)((0,n.sF)(e)?(0,n.I8)(e.value?.values.at(-1)?.value):e.raw)??"")}getMetaSuggestions(e){return[]}async processSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let a=(0,n.DS)(t,r);this.abortPreviousSuggestionsRequests();let l=this.abortSuggestionsController,s=await this.fetchSuggestions(a,t,e)??[],o=t.provider.key,u=[],d=(0,n.jL)(this.displayName,this.icon),c=(0,n.Ms)(this.displayName,this.icon),p=(0,n.m1)(o);(0,n.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")&&u.push(d),(0,n.uT)(t)&&this.options.filterTypes.hasValue&&!t.raw.startsWith("-")&&u.push(c),this.options.filterTypes.exclusive&&""===a&&(0,n.aK)(t)&&t.raw!==`-${o}:`&&u.unshift(p);let v=[...u,...[...s].map(t=>i(t,a,e))];for(let e of v)[d,c,p].includes(e)||this.prefetchedSuggestions.set(e.value,e);return l.signal.aborted?null:v}async validateFilterBlockValues(e,t,i){let r={},s=i.map(async(s,u)=>{let d=(0,n.M5)(s.value),c=i.findIndex(e=>(0,n.M5)(e.value)===d);if(!d||c<u&&c>=0){r[u]={...s,valid:!1,validations:[{type:o.b.EmptyValue,message:l.D.filterValueEmpty(this.key)}]};return}let p=this.prefetchedSuggestions.get(d),v=this.getMetaSuggestions(d)?.[0];if(p){r[u]={...s,...p,valid:!0,value:s.value};return}if(v?.value===d){r[u]={...s,...v,valid:!0,value:s.value};return}if(e.activeBlockId!==t.id){let t=this.getFilterValue({id:1,type:o._B.Filter,raw:`${this.key}:`,value:{raw:d,values:[{value:d}]}},d),i=await this.validateFilterValue(t,e.contextURLParams,e);if(i instanceof Error)"Aborted"===i.message?r[u]={...s,valid:void 0,value:s.value}:r[u]={...s,valid:!1};else{let t=this.validateValue?.(e,s,i);return t?t.value===a.rt?r[u]={...s,valid:!0,value:s.value}:r[u]={...s,valid:!0,...t,value:s.value}:r[u]={...s,valid:!1,validations:[{type:o.b.InvalidValue,message:l.D.filterInvalidValue(this.key,d)}]},s}}r[u]={...s,valid:void 0}});return await Promise.all(s),Object.values(r)}async fetchSuggestions(e,t,i){try{if(this.suggestionCache.has(e))return this.suggestionCache.get(e)??[];if(!this.suggestionEndpoint||""===this.suggestionEndpoint)throw Error("No suggestion endpoint provided");let t=new URL(this.suggestionEndpoint,window.location.origin),r=i.contextURLParams,a=new URLSearchParams([r?.toString(),this.providerContext?.toString()].join("&"));a.set("q",e),a.set("filter_value",e),t.search=a.toString();let l=await this.fetchData(t.toString());if(!l||!l.ok)return null;let o=await l.json(),n=Object.keys(o)[0],u=n?o[n]:null;if(Array.isArray(u)&&u.length<s.Rx&&this.completeResultSetQueries.add(e),!u)return null;return this.suggestionCache.set(e,u),u}catch{return null}}isCompleteResultSetQuery(e){return!!e&&-1!==Array.from(this.completeResultSetQueries).findIndex(t=>""===t?t===e:e.startsWith(t))}findPrefetchedSuggestions(e){if(!e)return[];let t=(0,r.t)({items:[...this.prefetchedSuggestions.values()],filter:e,key:e=>(0,n.I8)(e.value)??"",secondaryKey:e=>e.displayName??""}).slice(0,s.Rx);return t.push(...this.getMetaSuggestions(e)),t}async validateFilterValue(e,t,i){try{let r;if(this.validationCache.has(e))return this.validationCache.get(e)??null;if(!this.validationEndpoint||""===this.validationEndpoint)throw Error("No validation endpoint provided");let a=new URL(this.validationEndpoint,window.location.origin),l=new URLSearchParams([t?.toString(),this.providerContext?.toString()].join("&"));l.set("q",e),l.set("filter_value",e),a.search=l.toString(),this.abortPreviousValidationRequests(i);let s=await this.fetchData(a.toString(),this.abortValidationController);if(!s)return Error("Aborted");if(!s.ok)return null;let o=await s.json(),n=Object.keys(o);return r=1===n.length&&n[0]&&Array.isArray(o[n[0]])?Array.isArray(o[n[0]])?o[n[0]][0]:o[n[0]]:o,this.validationCache.set(e,r),r}catch{return null}}async fetchData(e,t){let i;try{i=await fetch(e,{method:"GET",mode:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},signal:t?.signal})}catch(e){if("AbortError"!==e.name)throw e}return i}constructor(e,t){super(e,t),this.suggestionEndpoint="",this.validationEndpoint="",this.suggestionCache=new Map,this.completeResultSetQueries=new Set,this.validationCache=new Map,this.abortSuggestionsController=new AbortController,this.abortValidationController=new d,this.prefetchedSuggestions=new Map}};var c=i(68253),p=i(97564),v=i(93800),y=i(91385),m=i(40777);let h=/(?:>|<|>=|<=)?(\d+)/g,g=/^(?:>|<|>=|<=)?(\d{4}-\d{1,2}-\d{1,2})?$/,f=/^(?:>|<|>=|<=)?(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z?)$/,x=/^(?:>|<|>=|<=)?(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\+\d{2}:\d{2})$/,_=/^(?:>|<|>=|<=)?(@[A-Za-z]+)([+-]\d+[mdwqy])?$/,N=[">=","<=",">","<"];let StaticFilterProvider=class StaticFilterProvider extends u.e{getSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let a=(0,n.DS)(t,r),l=t.provider.key,s=[];if((0,n.uT)(t)&&this.options.filterTypes.valueless&&s.push((0,n.jL)(this.displayName,this.icon)),this.options.filterTypes.exclusive&&""===a&&(0,n.aK)(t)&&t.raw!==`-${l}:`){let e=(0,n.m1)(l);s.unshift(e)}let u=N.find(e=>a===e||a===`${e}@`);if(!a&&!u)return this.filterValues;for(let e of this.filterValues){let{value:t,displayName:r}=e,l=(0,n.I8)(t),d={...e,type:o.ak.Value},c=l&&!N.find(e=>l.startsWith(e));if(this.type===o.CH.Date&&c)d.value=`${u??""}${l}`;else{let t=!!l&&(0,y.qA)(a,l),s=!!i.aliasMatching&&e.aliases&&e.aliases.some(e=>(0,y.qA)(a,e)),o=!!r&&(0,y.qA)(a,r);if(!l||!t&&!o&&!s)continue}e.priority-=(0,v.dt)(a,l),s.push(d)}return s}async validateFilterBlockValues(e,t,i,r){let a=[],s=i.map((e,i)=>{if(!this.options.filterTypes.multiValue&&(t.operator===o.tl.Between&&i>1||t.operator!==o.tl.Between&&i>0)){a[i]={...e,valid:!1,validations:[{type:o.b.MultiValueUnsupported,message:l.D.filterMultiValueFalse(this.key)}]};return}let s=(0,n.M5)(e.value);if(!s){a[i]={...e,valid:!1,validations:[{type:o.b.EmptyValue,message:l.D.filterValueEmpty(this.key)}]};return}if(t.operator===o.tl.Between&&N.some(e=>s.startsWith(e))){a[i]={...e,valid:!1,validations:[{type:o.b.InvalidValue,message:l.D.filterInvalidValue(this.key,s)}]};return}let u=!0;switch(this.type){case o.CH.Boolean:case o.CH.Select:u=void 0!==this.filterValues.find(e=>(0,n.I8)(e.value)===s||r?.aliasMatching&&e.aliases?.includes(s));break;case o.CH.Text:u=!0;break;case o.CH.Number:{let e=s.match(h);u=(e?.length??0)>0&&e?.[0]===s;break}case o.CH.Date:if(s){if("*"===s)u=!0;else if(_.test(s)){let[,e]=_.exec(s)??[];u=void 0!==this.filterValues.find(t=>(0,n.I8)(t.value)===e)}else{let e=null;x.test(s)?e=x.exec(s)?.[1]??null:f.test(s)?e=f.exec(s)?.[1]??null:g.test(s)&&(e=g.exec(s)?.[1]??null),u=!!e&&!isNaN(Date.parse(e))}}break;default:u=!0}let d=this.filterValues.find(e=>(0,n.SH)((0,n.I8)(e.value)??"",s));d?a[i]={...e,...d,valid:!0,value:e.value}:a[i]={...e,valid:u}});return await Promise.all(s),Object.values(a)}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,leadingVisual:(0,m.d)({value:e})}}constructor(e,t,i){super(e,i),this.filterValues=t.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`}))}};let ArchivedFilterProvider=class ArchivedFilterProvider extends StaticFilterProvider{constructor(e){super(a._i.archived,a.sS.archived,{...e,filterTypes:{...e?.filterTypes,multiValue:!1,valueless:!1}}),this.type=o.CH.Boolean}};let ClosedFilterProvider=class ClosedFilterProvider extends StaticFilterProvider{constructor(e){super(a._i.closed,a.sS.closed,e),this.type=o.CH.Date}};let CommentsFilterProvider=class CommentsFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{multiValue:!1,valueless:!1}};super(a._i.comments,a.sS.comments,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=o.CH.Number}};let CreatedFilterProvider=class CreatedFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{valueless:!1}};super(a._i.created,a.sS.created,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=o.CH.Date}};let DraftFilterProvider=class DraftFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{multiValue:!1,valueless:!1}};super(a._i.draft,a.sS.draft,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=o.CH.Boolean}};let InteractionsFilterProvider=class InteractionsFilterProvider extends StaticFilterProvider{constructor(e){let t={filterTypes:{multiValue:!1,valueless:!1}};super(a._i.interactions,a.sS.interactions,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=o.CH.Number}};let IsFilterProvider=class IsFilterProvider extends StaticFilterProvider{constructor(e,t){let i=e?.map(e=>a.VT[e]).filter(Boolean)??[],r={filterTypes:{valueless:!1}};super(a._i.is,i?.length>0?i:a.sS.is,{...r,...t,filterTypes:{...r.filterTypes,...t?.filterTypes}}),this.type=o.CH.Select}};let InFilterProvider=class InFilterProvider extends StaticFilterProvider{constructor(e,t){let i=e?.map(e=>a.oO[e]).filter(Boolean)??[],r={filterTypes:{valueless:!1,multiValue:!0}};super(a._i.in,i?.length>0?i:a.sS.in,{...r,...t,filterTypes:{...r.filterTypes,...t?.filterTypes}}),this.type=o.CH.Select}};let LinkedFilterProvider=class LinkedFilterProvider extends StaticFilterProvider{constructor(e,t){let i={...t,filterTypes:{...t?.filterTypes,multiValue:!1,valueless:!1}},r=e?.map(e=>a.Ez[e]).filter(Boolean)??[];super(a._i.linked,r?.length>0?r:a.sS.linked,i),this.type=o.CH.Select}};let MergedFilterProvider=class MergedFilterProvider extends StaticFilterProvider{constructor(e){super(a._i.merged,a.sS.merged,{...e,filterTypes:{...e?.filterTypes,multiValue:!1}}),this.type=o.CH.Date}};let ReactionsFilterProvider=class ReactionsFilterProvider extends StaticFilterProvider{constructor(e){super(a._i.reactions,a.sS.reactions,{...e,filterTypes:{multiValue:!1,valueless:!1,...e?.filterTypes}}),this.type=o.CH.Number}};let ReasonFilterProvider=class ReasonFilterProvider extends StaticFilterProvider{constructor(e){(0,p.G7)("ISSUES_REACT_CLOSE_AS_DUPLICATE")||(a.sS.reason=a.sS.reason.filter(e=>"duplicate"!==e.value)),super(a._i.reason,a.sS.reason,e),this.type=o.CH.Select}};let ReviewFilterProvider=class ReviewFilterProvider extends StaticFilterProvider{constructor(e){super(a._i.review,a.sS.review,e),this.type=o.CH.Select}};let SortFilterProvider=class SortFilterProvider extends StaticFilterProvider{constructor(e,t){let i=[...e.map(e=>a.$c[e]).flat().filter(Boolean)??[],...e?.includes("reactions")?a.OV:[]];super(a._i.sort,i?.length>0?i:a.sS.sort,t),this.type=o.CH.Select}};let StateFilterProvider=class StateFilterProvider extends StaticFilterProvider{constructor(e="mixed",t){let i=(0,n.Lu)(e),r={filterTypes:{valueless:!1}};super(a._i.state,i,{...r,...t,filterTypes:{...r.filterTypes,...t?.filterTypes}}),this.stateContext=e,this.type=o.CH.Select}};let StatusFilterProvider=class StatusFilterProvider extends StaticFilterProvider{constructor(e){super(a._i.status,a.sS.status,e),this.type=o.CH.Select}};let UpdatedFilterProvider=class UpdatedFilterProvider extends StaticFilterProvider{constructor(e){super(a._i.updated,a.sS.updated,e),this.type=o.CH.Date}};let BooleanFilterProvider=class BooleanFilterProvider extends StaticFilterProvider{constructor(e){super(e,c.bO,n.Ty),this.type=c.CH.Boolean}};i(24763);var I=i(38621);let k={Open:"open"},b={NotPlanned:"not_planned"};let BaseIssueFilterProvider=class BaseIssueFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}getIconData(e){return e.state===k.Open?{icon:I.IssueOpenedIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"}:e.stateReason===b.NotPlanned?{icon:I.SkipIcon,iconColor:"var(-fgColor-muted, var(--color-neutral-emphasis))"}:{icon:I.IssueClosedIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"}}processSuggestion(e,t){let{title:i,titleHtml:r,nwoReference:a}=e,l=3;return t&&(i&&(l-=(0,v.dt)(t,i)),a&&(l-=(0,v.dt)(t,a))),{type:o.ak.Value,displayName:r??i,ariaLabel:`${i}, ${this.displayName}`,description:a,inlineDescription:!1,value:a??"",priority:l,...this.getIconData(e)}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{displayName:i.title,value:r}:!e.context.repo&&!e.context.org&&{value:a.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e,t){super(e,t),this.suggestionEndpoint="/_filter/issues",this.validationEndpoint="/_filter/issues/validate",this.type=o.CH.Select}};let ParentIssueFilterProvider=class ParentIssueFilterProvider extends BaseIssueFilterProvider{constructor(e,t){super(e||a._i.parentIssue,t),this.providerContext=new URLSearchParams({parent:"true"})}};var w=i(28972);let KeyOnlyFilterProvider=class KeyOnlyFilterProvider{getSuggestions(){return null}validateFilterBlockValues(e,t,i){return i.map(e=>({...e,valid:!0}))}getValueRowProps(){return{text:""}}constructor(e,t){this.type=o.CH.Text,Object.assign(this,e),this.key=e.key,this.icon=e.icon,this.displayName=e.displayName??(0,n.ZH)(e.key),this.options={...w.dQ,...t,filterTypes:{...w.dQ.filterTypes,multiValue:!1,valueless:!1,...t?.filterTypes}},this.priority=this.options.priority}};let BaseFilterProvider=class BaseFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(a._i.base,e)}};let HeadFilterProvider=class HeadFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(a._i.head,e)}};let InBodyFilterProvider=class InBodyFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(a._i.inBody,e)}};let InCommentsFilterProvider=class InCommentsFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(a._i.inComments,e)}};let InTitleFilterProvider=class InTitleFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(a._i.inTitle,e)}};let ShaFilterProvider=class ShaFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(a._i.sha,e)}};let LabelFilterProvider=class LabelFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}getIconData(e,t){return t.repo?{iconColor:e.color?.startsWith("#")?e.color:`#${e.color}`,description:e.description,inlineDescription:!1}:{icon:this.icon}}processSuggestion(e,t,i){let r=3;return t&&e.name&&(r-=(0,v.dt)(t,e.name)),{type:o.ak.Value,displayName:e.nameHtml??e.name,ariaLabel:`${e.name}, ${this.displayName}`,value:e.name??"",priority:r,...this.getIconData(e,i.context)}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{iconColor:i.color?.startsWith("#")?i.color:`#${i.color}`,value:r,displayName:i.name,...this.getIconData(i,e.context)}:!e.context.repo&&!e.context.org&&{value:a.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon})}}constructor(e){super(a._i.label,e),this.suggestionEndpoint="/_filter/labels",this.validationEndpoint="/_filter/labels/validate",this.type=o.CH.Select}};let LanguageFilterProvider=class LanguageFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let i=3;return t&&e.name&&(i-=(0,v.dt)(t,e.name)),{type:o.ak.Value,displayName:e.name,ariaLabel:`${e.name}, ${this.displayName}`,value:e.name??"",priority:i,iconColor:e.color?.startsWith("#")?e.color:`#${e.color}`}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!i&&!!r&&{iconColor:i.color?.startsWith("#")?i.color:`#${i.color}`,value:r,displayName:i.name}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon})??void 0}}constructor(e){super(a._i.language,e),this.suggestionEndpoint="/_filter/languages",this.validationEndpoint="/_filter/languages/validate",this.type=o.CH.Select}};let MilestoneFilterProvider=class MilestoneFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{id:i,title:r,description:a}=e,l=3;return t&&r&&(l-=(0,v.dt)(t,r)),{id:i,type:o.ak.Value,displayName:r,ariaLabel:`${r}, ${this.displayName}`,value:r,description:a,inlineDescription:!1,priority:l,icon:this.icon}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{value:r,displayName:i.title,description:i.description}:!e.context.repo&&!e.context.org&&{value:a.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(a._i.milestone,e),this.suggestionEndpoint="/_filter/milestones",this.validationEndpoint="/_filter/milestones/validate",this.type=o.CH.Select}};var S=i(83056);let OrgFilterProvider=class OrgFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{name:i,login:r,avatarUrl:a}=e,l=3;return t&&(i&&(l-=(0,v.dt)(t,i)),r&&(l-=(0,v.dt)(t,r))),{type:o.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,n.$4)(r)??"",description:r,inlineDescription:!0,priority:l,icon:a?void 0:this.icon,avatar:a?{url:a,type:o.uW.Org}:void 0}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!i&&!!r&&{avatar:i.avatarUrl?{url:i.avatarUrl,type:o.uW.Org}:void 0,value:r,displayName:i.name}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(a._i.org,e);let t=e?.businessSlug;this.suggestionEndpoint=t?(0,S.MeY)({businessSlug:t}):"/_filter/organizations",this.validationEndpoint=t?(0,S.ohj)({businessSlug:t}):"/_filter/organizations/validate",this.type=o.CH.Select}};let ProjectFilterProvider=class ProjectFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{title:i,value:r}=e,a=3;return t&&(i&&(a-=(0,v.dt)(t,i)),r&&(a-=(0,v.dt)(t,r))),{type:o.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,n.$4)(r)??"",description:r,inlineDescription:!1,priority:a}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{displayName:i.title,value:r}:!e.context.repo&&!e.context.org&&{value:a.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block"}}constructor(e){super(a._i.project,e),this.suggestionEndpoint="/_filter/projects",this.validationEndpoint="/_filter/projects/validate",this.type=o.CH.Select}};let RepositoryFilterProvider=class RepositoryFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{nameWithOwner:i}=e,r=3;return t&&i&&(r-=(0,v.dt)(t,i)),{type:o.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:i,inlineDescription:!1,priority:r,icon:this.icon}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!i&&!!r&&{displayName:i.name,value:r}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(a._i.repo,e),this.suggestionEndpoint="/_filter/repositories",this.validationEndpoint="/_filter/repositories/validate",this.type=o.CH.Select}};let BaseTeamFilterProvider=class BaseTeamFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}processSuggestion(e,t){let{name:i,combinedSlug:r,avatarUrl:a}=e,l=3;return t&&(i&&(l-=(0,v.dt)(t,i)),r&&(l-=(0,v.dt)(t,r))),{type:o.ak.Value,displayName:i,value:(0,n.$4)(r)??"",ariaLabel:`${i}, ${this.displayName}`,description:r,inlineDescription:!0,priority:l,icon:a?void 0:this.icon,avatar:a?{url:a,type:o.uW.Team}:void 0}}validateValue(e,t,i){let r=(0,n.M5)(t.value);return!!r&&(i?{avatar:i.avatarUrl?{url:i.avatarUrl,type:o.uW.Team}:void 0,value:r,displayName:i.name}:!e.context.repo&&!e.context.org&&{value:a.rt})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"inline",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon})}}constructor(e,t,i){super(e,i),this.suggestionEndpoint="/_filter/teams",this.validationEndpoint="/_filter/teams/validate",this.type=o.CH.Select}};let TeamFilterProvider=class TeamFilterProvider extends BaseTeamFilterProvider{constructor(e,t){super(a._i.team,e,t)}};let TeamReviewRequestedFilterProvider=class TeamReviewRequestedFilterProvider extends BaseTeamFilterProvider{constructor(e,t){super(a._i.teamReviewRequested,e,t)}};var C=i(18312),B=i(69487);let F=i(90797),T=i(95723),P=i(55536);let TypeFilterProvider=class TypeFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){let a=(0,n.DS)(t,r),l=await this.processSuggestions(e,t,this.processSuggestion.bind(this),r)||[],s=[];if((0,n.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")){let e=(0,n.jL)(this.displayName,this.icon);s.push(e)}if((0,n.uT)(t)&&this.options.filterTypes.hasValue&&!t.raw.startsWith("-")){let e=(0,n.Ms)(this.displayName,this.icon);s.push(e)}for(let e of l){let{value:t,displayName:i}=e,r=(0,n.I8)(t),l=!!r&&(0,y.qA)(a,r),o=!!i&&(0,y.qA)(a,i);r&&(l||o)&&(e.priority-=(0,v.dt)(a,r),s.push(e))}return s}async fetchSuggestions(e,t){if(!t)return[];try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope&&this.issueTypesEnabled){let e=await (0,C.fetchQuery)(this.relayEnvironment,F,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.repository?.issueTypes?.edges||[],i=[];for(let e of t)e&&e.node&&e.node.name&&i.push({name:e.node.name});return i}if(this.relayEnvironment&&this.projectScope&&this.issueTypesEnabled){let e=await (0,C.fetchQuery)(this.relayEnvironment,P,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.organization?.projectV2?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}if(this.relayEnvironment&&!this.projectScope&&!this.repositoryScope){let e=await (0,C.fetchQuery)(this.relayEnvironment,T,{},{fetchPolicy:"store-or-network"}).toPromise(),t=e?.viewer?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}}catch{}return[]}async validateFilterValue(e){try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope&&this.issueTypesEnabled){let t=await (0,C.fetchQuery)(this.relayEnvironment,F,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.repository?.issueTypes?.edges||[],r=[];for(let e of i)e&&e.node&&e.node.name&&r.push({name:e.node.name});return r.find(t=>(0,n.SH)(t.name,e))}if(this.relayEnvironment&&this.requestVariables&&this.projectScope&&this.issueTypesEnabled){let t=await (0,C.fetchQuery)(this.relayEnvironment,P,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.organization?.projectV2?.suggestedIssueTypeNames||[];return{name:i?.find(t=>n.SH(t,e))}}if(this.relayEnvironment){let t=await (0,C.fetchQuery)(this.relayEnvironment,T,{},{fetchPolicy:"store-or-network"}).toPromise(),i=t?.viewer?.suggestedIssueTypeNames||[];return{name:i?.find(t=>n.SH(t,e))}}}catch{}return null}validateValue(e,t,i){let r=(0,n.M5)(t.value),l=this.legacy?[...a.sS.type.map(({value:e})=>e),i?.name]:[i?.name];return!!(0!==l.length&&r&&l.find(e=>(0,n.SH)(e,r)))&&{value:(0,n.$4)(r)??"",displayName:r}}async processSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let l=(0,n.DS)(t,r),s=await this.fetchSuggestions(l,t)??[];return[...this.legacy?a.sS.type.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`})):[],...s.map(t=>i(t,l,e))]}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon})}}processSuggestion(e,t){let{name:i}=e,r=3;return t&&i&&(r-=(0,v.dt)(t,i)),{type:o.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,n.$4)(i)??"",inlineDescription:!0,priority:r,icon:this.icon}}getRequestVariables(){if(this.repositoryScope){let e=this.repositoryScope.split("/");return{owner:e[0]||"",name:e[1]||""}}if(this.projectScope?.login&&this.projectScope?.projectNumber)return{login:this.projectScope.login,number:this.projectScope.projectNumber}}getRequestDisposable(){if(this.relayEnvironment){if(this.requestVariables&&this.repositoryScope){let e=(0,B.getRequest)(F),t=(0,B.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}if(this.requestVariables&&this.projectScope){let e=(0,B.getRequest)(P),t=(0,B.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}{let e=(0,B.getRequest)(T),t=(0,B.createOperationDescriptor)(e,{});return this.relayEnvironment.retain(t)}}}constructor(e,t=!1,i,r,l=!1,s){super(a._i.type,{...e,filterTypes:{...e?.filterTypes,multiValue:!0}}),this.type=o.CH.Text,this.relayEnvironment=i,this.repositoryScope=r,this.projectScope=s,this.issueTypesEnabled=l,this.requestVariables=this.getRequestVariables(),this.requestDisposable=this.getRequestDisposable(),this.legacy=t}};let $={type:o.ak.Value,value:"@me",ariaLabel:"@me, Signed-in user",displayName:"Me",description:"Signed-in user",inlineDescription:!0,priority:1,icon:I.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"},V=e=>({type:o.ak.Value,value:"*",displayName:`Has ${e.toLocaleLowerCase()}`,ariaLabel:`Has ${e}, ${e}`,priority:1,icon:I.PlusCircleIcon});let BaseUserFilterProvider=class BaseUserFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){this.includeBots&&e.addQueryParam("include_bots","1");let a=await this.processSuggestions(e,t,this.processSuggestion.bind(this),r)??[],l=(0,n.DS)(t,r),s=a[0]?.type===o.ak.NoValue?1:0;return this.showAtMe&&(""===l||(0,y.qA)(l,"@me"))&&(0,n.aK)(t)&&t.value?.values.findIndex(e=>"@me"===e.value)<0&&(a.splice(s,0,$),s++),this.showHasValue&&(""===l||(0,y.qA)(l,"*"))&&(0,n.aK)(t)&&t.value?.values.findIndex(e=>"*"===e.value)<0&&a.splice(s,0,V(this.displayName)),a}processSuggestion(e,t){let{login:i,name:r,avatarUrl:a}=e,l=3;return t&&(i&&(l-=.75*(0,v.dt)(t,i)),r&&(l-=.25*(0,v.dt)(t,r))),"@me"===i&&(l=1),{type:o.ak.Value,value:i,ariaLabel:`${i}, ${r}, ${this.displayName}`,description:r,inlineDescription:!0,priority:l,icon:a?void 0:this.icon,avatar:a?{url:a,type:o.uW.User}:void 0}}getMetaSuggestions(e){let t=[];return this.showAtMe&&"@me".startsWith(e)&&t.push($),this.showHasValue&&"*".startsWith(e)&&t.push(V(this.displayName)),t}validateValue(e,t,i){let r=(0,n.M5)(t.value);return"@me"===r?{avatar:this.currentUserAvatarUrl?{url:this.currentUserAvatarUrl,type:o.uW.User}:void 0,value:r}:this.showHasValue&&"*"===r?{avatar:void 0,value:r}:i&&r?{avatar:i.avatarUrl?{url:i.avatarUrl,type:o.uW.User}:void 0,value:r,displayName:i.name}:!e.context.repo&&!e.context.org&&{value:a.rt}}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",description:e.description,descriptionVariant:"inline",leadingVisual:(0,m.d)({value:e,providerIcon:this.icon})}}constructor(e,t,i){super(t,i),this.suggestionEndpoint="/_filter/users",this.validationEndpoint="/_filter/users/validate",this.currentUserLogin=e.currentUserLogin,this.currentUserAvatarUrl=e.currentUserAvatarUrl,this.includeBots=e.includeBots??!1,this.type=o.CH.User,this.showAtMe=e?.showAtMe??!0,this.showHasValue=e?.showHasValue??!1}};let AssigneeFilterProvider=class AssigneeFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.assignee,t)}};let AuthorFilterProvider=class AuthorFilterProvider extends BaseUserFilterProvider{constructor(e,t){let i={filterTypes:{multiValue:!1,valueless:!1}};super({...e,includeBots:!0},a.yV.author,{...i,...t,filterTypes:{...i.filterTypes,...t?.filterTypes}})}};let CommenterFilterProvider=class CommenterFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.commenter,t)}};let InvolvesFilterProvider=class InvolvesFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.involves,t)}};let MentionsFilterProvider=class MentionsFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.mentions,t)}};let ReviewedByFilterProvider=class ReviewedByFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.reviewedBy,t)}};let ReviewRequestedFilterProvider=class ReviewRequestedFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.reviewRequested,t)}};let UserFilterProvider=class UserFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.user,t)}};let UserReviewRequestedFilterProvider=class UserReviewRequestedFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(e,a.yV.userReviewRequested,t)}}},34981:(e,t,i)=>{i.d(t,{J:()=>l});var r=i(38621),a=i(28972);let l={type:i(31911).CH.RawText,icon:r.TypographyIcon,options:a.dQ,key:"text",priority:5,displayName:"Text",getSuggestions:()=>[],validateFilterBlockValues:()=>[],getValueRowProps:()=>({text:""})}},37015:(e,t,i)=>{i.d(t,{A:()=>ValueValidator,e:()=>RootFilterProvider});var r=i(28972),a=i(31911),l=i(37932);let RootFilterProvider=class RootFilterProvider{shouldGetSuggestions(e){return e&&e.type!==a._B.Space&&(0,l.Bt)(e,this.options.filterTypes.multiValue)}constructor(e,t){Object.assign(this,e),this.key=e.key,this.icon=e.icon,this.type=a.CH.Text,this.displayName=e.displayName??(0,l.ZH)(e.key),this.options={...r.dQ,priority:e.priority,...t,filterTypes:{...r.dQ.filterTypes,...t?.filterTypes}},this.priority=this.options.priority}};let ValueValidator=class ValueValidator extends RootFilterProvider{validateValue(e,t,i){return!!i&&i}}},81974:(e,t,i)=>{i.d(t,{Q:()=>ValuePresenceFilterProvider});var r=i(93800),a=i(91385),l=i(28972),s=i(39168),o=i(31911),n=i(37932),u=i(40777),d=i(37015);let c={[o.ak.HasValue]:s._i.has,[o.ak.NoValue]:s._i.no};let ValuePresenceFilterProvider=class ValuePresenceFilterProvider extends d.e{getSuggestions(e,t,i,l){if(!this.shouldGetSuggestions(t))return null;let s=(0,n.DS)(t,l),u=[];if(!s)return this.filterValues.filter(t=>(0,n.Di)(e,this.key,(0,n.M5)(t.value)).length<1);for(let t of this.filterValues){let{value:i,displayName:l}=t,d=(0,n.I8)(i),c=!!d&&(0,a.qA)(s,d),p=!!l&&(0,a.qA)(s,l);!((0,n.Di)(e,this.key,(0,n.M5)(d)).length>0)&&d&&(c||p)&&(t.priority-=(0,r.dt)(s,d),u.push({...t,type:o.ak.Value}))}return u}validateFilterBlockValues(e,t,i){return i.map((r,a)=>{let l=(0,n.I8)(r.value),s=(0,n.Di)(e,this.key,(0,n.M5)(l)).sort((e,t)=>e.id-t.id),o=!!l&&!!this.filterValues.find(e=>(0,n.SH)((0,n.I8)(e.value)??"",l));return s[0]?.id!==void 0&&(t.id!==s[0].id||i.findIndex(e=>e.value===l)<a)&&(o=!1),{...r,valid:o}})}getValueRowProps(e){return{text:e.displayName??(0,n.I8)(e.value)??"",leadingVisual:(0,u.d)({value:e})}}constructor(e,t,i){super(c[t],i),this.options={...l.dQ,...i,filterTypes:{...l.dQ.filterTypes,valueless:!1,...i?.filterTypes}},this.type=o.CH.Select,this.filterValues=e.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`}))}}},31911:(e,t,i)=>{var r,a,l,s,o,n,u,d,c,p,v;i.d(t,{CH:()=>l,FT:()=>d,_B:()=>p,ak:()=>r,b:()=>c,b9:()=>s,tl:()=>v,uW:()=>a}),function(e){e.Key="key",e.Value="value",e.NoValue="",e.HasValue="*"}(r||(r={})),function(e){e.User="user",e.Org="org",e.Team="team"}(a||(a={})),function(e){e.Select="select",e.User="user",e.Text="text",e.Date="date",e.Number="number",e.Boolean="boolean",e.RawText="rawText",e.Unknown="unknown"}(l||(l={})),function(e){e.Unsupported="unsupported",e.Supported="supported",e.Deprecated="deprecated"}(s||(s={})),function(e){e.Base="base",e.Head="head",e.InBody="inBody",e.InComments="inComments",e.InTitle="inTitle",e.Type="type",e.Language="language",e.Milestone="milestone",e.Sha="sha"}(o||(o={})),function(e){e.Archived="archived",e.Closed="closed",e.Comments="comments",e.Created="created",e.Draft="draft",e.Interactions="interactions",e.Is="is",e.In="in",e.Linked="linked",e.MemexState="memexState",e.Merged="merged",e.PRState="prState",e.Reactions="reactions",e.Reason="reason",e.Review="review",e.Sort="sort",e.State="state",e.Status="status",e.Type="type",e.Updated="updated"}(n||(n={})),function(e){e.Has="has",e.Language="language",e.Label="label",e.Milestone="milestone",e.No="no",e.Org="org",e.Project="project",e.Repo="repo",e.Team="team",e.TeamReviewRequested="teamReviewRequested",e.ParentIssue="parentIssue"}(u||(u={})),function(e){e.SuggestionSelected="suggestion-selected",e.DialogSubmit="dialog-submit",e.ExplicitSubmit="explicit-submit"}(d||(d={})),function(e){e.EmptyValue="empty-value",e.InvalidValue="invalid-value",e.MultiValueUnsupported="multi-value-unsupported",e.FilterProviderDeprecated="filter-provider-deprecated",e.FilterProviderUnsupported="filter-provider-unsupported",e.FilterProviderTopLevel="filter-provider-top-level",e.UnbalancedQuotations="unbalanced-quotations",e.UnbalancedParentheses="unbalanced-parentheses",e.MaxNestedGroups="max-nested-groups"}(c||(c={})),function(e){e.Filter="filter",e.Text="text",e.Space="space",e.Keyword="keyword",e.Group="group",e.UnmatchedOpenParen="unmatched-open-paren",e.UnmatchedCloseParen="unmatched-close-paren"}(p||(p={})),function(e){e.IsOneOf="IsOneOf",e.IsNotOneOf="IsNotOneOf",e.Is="Is",e.IsNot="IsNot",e.GreaterThan="GreaterThan",e.LessThan="LessThan",e.GreaterThanOrEqualTo="GreaterThanOrEqualTo",e.LessThanOrEqualTo="LessThanOrEqualTo",e.EqualTo="EqualTo",e.Before="Before",e.After="After",e.BeforeAndIncluding="BeforeAndIncluding",e.AfterAndIncluding="AfterAndIncluding",e.Between="Between"}(v||(v={}))},37932:(e,t,i)=>{i.d(t,{$4:()=>v,Bt:()=>z,DS:()=>K,Di:()=>j,Dy:()=>Z,Ed:()=>k,I8:()=>x,Lu:()=>J,M5:()=>_,Ms:()=>R,Nn:()=>O,ON:()=>F,PU:()=>q,SH:()=>m,Ty:()=>ee,W5:()=>f,W9:()=>C,Xz:()=>g,ZH:()=>u,aK:()=>w,d7:()=>n.d,dV:()=>b,h8:()=>S,he:()=>I,iy:()=>P,j1:()=>H,jL:()=>L,jQ:()=>N,jh:()=>G,m1:()=>M,n$:()=>E,nV:()=>A,oE:()=>T,q5:()=>Y,sF:()=>$,t4:()=>X,uT:()=>Q,v7:()=>B,vU:()=>W,wR:()=>U,zB:()=>D});var r=i(38621),a=i(98488),l=i(39168),s=i(34981),o=i(31911),n=i(40777);let u=e=>e.charAt(0).toUpperCase()+e.slice(1),d=[" ","(",")",'"',"'"],c=/^"[^"]*"$/gi,p=/\\?"/gi,v=e=>{if(!e||d.every(t=>0>e.indexOf(t)))return e;let t=e.trim();return c.test(t)&&(t=t.substring(1,t.length-1)),t=t.replace(p,'\\"'),`"${t}"`},y=e=>{if(!e||e.replaceAll('"',"").length<1)return e;let t=e;return t.startsWith('"')&&e.endsWith('"')&&(t=t.substring(1)),t.endsWith('"')&&e.startsWith('"')&&(t=t.substring(0,t.length-1)),t},m=(e,t)=>!!e&&!!t&&e.toLocaleLowerCase()===t.toLocaleLowerCase(),h=(e,t=-1)=>{if(null===t||t<0)return x(e.at(-1)?.value);for(let i of e)if(b(t,i.startIndex,i.endIndex))return x(i.value);return null},g=e=>e.startsWith("-")?e.slice(1):e,f=(e,t,i)=>`${e}-${t??i}`,x=e=>e?"string"==typeof e?e:e():null,_=e=>{let t=x(e);return t?y(t):t},N=e=>{let t=x(e);return t?v(t):t},I=e=>new Promise(t=>setTimeout(t,e)),k=(e,t)=>e.blocks.map(({raw:e})=>e).join("").trim()===(void 0!==t?t:e.raw).trim(),b=(e,t,i)=>e>=0&&e>=t&&e<=i,w=e=>void 0!==e&&e.type===o._B.Filter&&void 0!==e.key&&void 0!==e.value,S=e=>void 0!==e.startIndex&&void 0!==e.endIndex,C=e=>e.type===o._B.Group&&void 0!==e.blocks&&void 0!==e.startIndex&&void 0!==e.endIndex,B=e=>w(e)&&S(e),F=e=>e.type===o._B.Text&&void 0!==e.startIndex&&void 0!==e.endIndex,T=e=>e.type===o._B.UnmatchedOpenParen&&void 0!==e.startIndex&&void 0!==e.endIndex,P=e=>e.type===o._B.UnmatchedCloseParen&&void 0!==e.startIndex&&void 0!==e.endIndex,$=e=>e.type===o._B.Filter,V=e=>void 0!==e.single,j=(e,t,i)=>i?e.blocks.filter(e=>w(e)&&e.provider.key===t&&e.value.values.findIndex(e=>e.value===i)>-1):[],A=e=>{let t=l.uK[e?.type??o.CH.Unknown],i=e?.options?.filterTypes.multiValue,r=V(t)?t[i?"multi":"single"]:t;return e?.options?.filterTypes.inclusive===!1&&(r=r.filter(e=>e!==o.tl.Is&&e!==o.tl.IsOneOf)),e?.options?.filterTypes.exclusive===!1&&(r=r.filter(e=>e!==o.tl.IsNot&&e!==o.tl.IsNotOneOf)),r},O=e=>e.type===o.CH.RawText?void 0:{value:e.key,valid:!0},D=(e,t,i)=>{let r=A(e),a=e?.options?.filterTypes.multiValue;if(r[0]){if(t?.startsWith("-"))return r.find(e=>a?e===o.tl.IsNotOneOf:e===o.tl.IsNot)??r[0];let l=i?.includes("..")&&i?.indexOf("..")===i?.lastIndexOf("..");if(e?.type===o.CH.Number){if(l)return r.find(e=>e===o.tl.Between)??r[0];if(i?.startsWith("<="))return r.find(e=>e===o.tl.LessThanOrEqualTo)??r[0];if(i?.startsWith("<"))return r.find(e=>e===o.tl.LessThan)??r[0];if(i?.startsWith(">="))return r.find(e=>e===o.tl.GreaterThanOrEqualTo)??r[0];else if(i?.startsWith(">"))return r.find(e=>e===o.tl.GreaterThan)??r[0]}else if(e?.type===o.CH.Date){if(l&&"*..*"!==i)return r.find(e=>e===o.tl.Between)??r[0];if(i?.startsWith("<="))return r.find(e=>e===o.tl.BeforeAndIncluding)??r[0];if(i?.startsWith("<"))return r.find(e=>e===o.tl.Before)??r[0];if(i?.startsWith(">="))return r.find(e=>e===o.tl.AfterAndIncluding)??r[0];else if(i?.startsWith(">"))return r.find(e=>e===o.tl.After)??r[0]}return r.find(e=>a?e===o.tl.IsOneOf:e===o.tl.Is)??r[0]}return o.tl.Is},E=(e,t)=>{let i=e.key?`${e.key.value}:`:"";switch(e.operator){case o.tl.IsNot:case o.tl.IsNotOneOf:return`${i.startsWith("-")?i:`-${i}`}${e.value?.values.map(e=>N(e.value)).join(t.valueDelimiter)}`;case o.tl.Before:case o.tl.LessThan:return`${i}<${e.value?.raw??""}`;case o.tl.After:case o.tl.GreaterThan:return`${i}>${e.value?.raw?e.value?.raw:""}`;case o.tl.LessThanOrEqualTo:return`${i}<=${e.value?.raw?e.value?.raw:""}`;case o.tl.GreaterThanOrEqualTo:return`${i}>=${e.value?.raw?e.value?.raw:""}`;case o.tl.Between:return`${i}${x(e.value?.values[0]?.value)}..${x(e.value?.values[1]?.value)}`;default:return`${i.startsWith("-")?i.substring(1):i}${e.value?.values.map(e=>N(e.value)).join(t.valueDelimiter)}`}},R=(e,t=r.PlusCircleIcon,i=0)=>({displayName:`Has ${e.toLocaleLowerCase()}`,ariaLabel:`Has ${e}, ${e}`,icon:t,value:"*",type:o.ak.HasValue,priority:i}),L=(e,t=r.NoEntryIcon,i=0)=>({displayName:`No ${e.toLocaleLowerCase()}`,ariaLabel:`No ${e}, ${e}`,icon:t,value:"",type:o.ak.NoValue,priority:i}),M=e=>({displayName:e?`Exclude ${e.toLocaleLowerCase()}`:"Exclude",ariaLabel:e?`Exclude ${e.toLocaleLowerCase()}`:"Exclude",value:e?`-${e}`:"-",type:o.ak.Key,priority:1,icon:r.NoEntryIcon}),q=()=>({ariaLabel:"And",value:"AND",type:"keyword",priority:1,icon:r.PlusCircleIcon}),H=()=>({ariaLabel:"Or",value:"OR",type:"keyword",priority:1,icon:r.SkipIcon}),G=e=>{let t=[];for(let i of e)"suggestions"in i?t.push(...i.suggestions):t.push(i);return t},U=e=>{let t=[],i=[...e];for(;i.length;){let e=i.pop();e&&(t.push(e),C(e)&&i.push(...e.blocks))}return t},W=e=>{let t=[];for(let i=0;i<e.length;i++){let r=e[i];if(r){if(r.type===o._B.Space)continue;if(r.type===o._B.Text&&e[i-2]?.type===o._B.Text){let e=t.pop();e&&(e.raw+=` ${r.raw}`,e.value={raw:e.raw,values:[{value:e.raw,valid:!0}]},t.push(e))}else if($(r)){let e=(0,a.A)(r);if(e.operator===o.tl.Between){let t=x(e.value?.values[0]?.value)??"",i=t?.split(".."),r=!!i[0]&&""!==i[0]&&!!i[1]&&""!==i[1];i?.length===2&&(e.value={raw:t,values:[{value:i[0]??"",valid:r},{value:i[1]??"",valid:r}]})}else{let t="";e.value?.values.map(e=>{t+=`,${(x(e.value)??"").replaceAll(/[>|<|>=|<=]/g,"")??""}`}),t=t.slice(1),e.value={values:e.value?.values??[],raw:t}}e.id=t.length,t.push(e)}else t.push({type:o._B.Filter,id:t.length,provider:s.J,raw:r.raw??"",value:{raw:r.raw??"",values:[{value:r.raw??"",valid:!0}]}})}}return t},K=(e,t)=>{let i;return(i=B(e)&&e.value?.values?h(e.value.values,t)??"":w(e)&&e.value?.values?x(e.value.values[0]?.value)??"":e.raw).startsWith('"')&&(i=i.substring(1)),i.endsWith('"')&&(i=i.substring(0,i.length-1)),i},Q=e=>{let t=w(e)&&e.value?.values?e.value.values:[];return!(t.length>1)&&(1!==t.length||t[0]?.value==="")},z=(e,t=!0)=>w(e)&&(t||e.value.values.length<=1),X=(e,t)=>{if(e.startIndex>t||e.endIndex<t)return[null,null];if(b(t,e.key.startIndex,e.key.endIndex))return["key",e.key];let i=e.value.values.find(e=>b(t,e.startIndex,e.endIndex));return i?["value",i]:[null,null]},J=(e="mixed")=>{let t=[];if("mixed"===e){let e={};for(let t of[...l.sS.memexState,...l.sS.state,...l.sS.prState]){let i=x(t.value),{icon:r,iconColor:a,...l}=t;i&&!e[i]&&(e[i]={...l})}t=Object.values(e)}else t="issues"===e?l.sS.state:"memex"===e?l.sS.memexState:l.sS.prState;return t};function Y(e){return e?e.replaceAll("<","&lt;")?.replaceAll(">","&gt;"):e}let Z=e=>{let t;if(0===e.length)return new Map;let i=0,r=[];for(;(t=e.indexOf('"',i))>-1;)r.push(t),i=t+1;let a=null,l=new Map;for(let e of r)a?(l.set(a,e),a=null):a=e;return l},ee={filterTypes:{multiKey:!1,multiValue:!1,valueless:!1}}},51848:(e,t,i)=>{let r;i.d(t,{BI:()=>v,Ti:()=>y,lA:()=>p});var a=i(70837),l=i(18679),s=i(74572),o=i(51528);let{getItem:n}=(0,s.A)("localStorage"),u="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,a.O)("octolytics");delete e.baseContext,r=new l.s(e)}catch{}function c(e){let t=(0,a.O)("octolytics").baseContext||{};if(t)for(let[e,i]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(u)&&(t[e.replace(u,"")]=i,delete t[e]);let i=document.querySelector("meta[name=visitor-payload]");for(let[e,r]of(i&&Object.assign(t,JSON.parse(atob(i.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=r);return t.staff=(0,o.X)().toString(),Object.assign(t,e)}function p(e){r?.sendPageView(c(e))}function v(e,t={}){let i=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,a=i?{service:i}:{};for(let[e,i]of Object.entries(t))null!=i&&(a[e]=`${i}`);r&&(c(a),r.sendEvent(e||"unknown",c(a)))}function y(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},71312:(e,t,i)=>{i.d(t,{S:()=>o,s:()=>s});var r=i(96540),a=i(51848),l=i(31481);function s(){let e=(0,r.useContext)(l.I);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:t,category:i,metadata:s}=e;return{sendAnalyticsEvent:(0,r.useCallback)((e,r,l={})=>{let o={react:!0,app_name:t,category:i,...s};(0,a.BI)(e,{...o,...l,target:r})},[t,i,s])}}function o(){let{sendAnalyticsEvent:e}=s();return{sendClickAnalyticsEvent:(0,r.useCallback)((t={})=>{e("analytics.click",void 0,t)},[e])}}},68253:(e,t,i)=>{i.d(t,{uW:()=>x.uW,_B:()=>x._B,_i:()=>eu._i,$D:()=>eu.$D,dJ:()=>eK,tl:()=>x.tl,CH:()=>x.CH,Ny:()=>ep.N,n5:()=>eH,ak:()=>x.ak,a6:()=>eu.a6,b9:()=>x.b9,FT:()=>x.FT,bO:()=>eu.bO,Xl:()=>eL,b:()=>x.b,dQ:()=>eu.dQ});var r=i(74848),a=i(37190),l=i(7572),s=i(92240),o=i(71312),n=i(27389),u=i(20053),d=i(96540),c=i(38621),p=i(75689),v=i(55847),y=i(86079),m=i(46632),h=i(55782),g=i(10162),f=i(34981),x=i(31911),_=i(37932),N=i(89323),I=i(16823),k=i(30729);let b={Octicon_0:"AddFilterButton-module__Octicon_0--kSneW",ActionMenu_Overlay_0:"AddFilterButton-module__ActionMenu_Overlay_0--qJJZN",ActionList_0:"AddFilterButton-module__ActionList_0--JmaUA",ActionList_Item_0:"AddFilterButton-module__ActionList_Item_0--HDBEv"},w=(0,d.forwardRef)(({size:e,filterProviders:t,addNewFilterBlock:i},a)=>{let[l,o]=(0,d.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.Q,{size:e,ref:a,onClick:()=>o(!l),...(0,s.G)("afd-add-filter"),children:[(0,r.jsx)(k.A,{icon:c.PlusIcon,className:b.Octicon_0}),"Add a filter"]}),(0,r.jsx)(N.W,{anchorRef:a,open:l,onOpenChange:o,children:(0,r.jsx)(N.W.Overlay,{className:b.ActionMenu_Overlay_0,children:(0,r.jsx)(I.l,{...(0,s.G)("afd-add-filter-options"),"aria-label":"Filter options",className:b.ActionList_0,children:t.map(e=>{let{icon:t}=e;return(0,r.jsxs)(I.l.Item,{onSelect:()=>i(e),role:"menuitem",className:b.ActionList_Item_0,children:[t&&(0,r.jsx)(I.l.LeadingVisual,{children:(0,r.jsx)(t,{})}),e.displayName??e.key]},`advanced-filter-add-provider-${e.key}`)})})})})]})});w.displayName="AddFilterButton";let S={Box_0:"AdvancedFilterDialog-module__Box_0--VpPcN",Box_1:"AdvancedFilterDialog-module__Box_1--kqOOK",Box_2:"AdvancedFilterDialog-module__Box_2--jbFK3",Box_3:"AdvancedFilterDialog-module__Box_3--w5Amr",Box_4:"AdvancedFilterDialog-module__Box_4--YFH2n",nonEmpty:"AdvancedFilterDialog-module__nonEmpty--yIJ8S",Button_0:"AdvancedFilterDialog-module__Button_0--vFOss",standaloneButton:"AdvancedFilterDialog-module__standaloneButton--qoffh"},C={Box_0:"BlankState-module__Box_0--AmMgB",Box_1:"BlankState-module__Box_1--AjzUe",Box_2:"BlankState-module__Box_2--jdCHM",Box_3:"BlankState-module__Box_3--cn1nb"},B=({isNarrowBreakpoint:e,addFilterButtonMobileRef:t,filterProviders:i,addNewFilterBlock:a})=>(0,r.jsxs)("div",{className:C.Box_0,...(0,s.G)("afd-no-content"),children:[(0,r.jsx)("div",{className:C.Box_1,children:"Build complex filter queries"}),(0,r.jsx)("div",{className:C.Box_2,children:"To start building your query add your first filter using the button below."}),(0,r.jsx)("div",{className:C.Box_3,children:(0,r.jsx)(w,{size:e?"medium":"small",ref:t,filterProviders:i,addNewFilterBlock:a})})]});try{B.displayName||(B.displayName="BlankState")}catch{}var F=i(91385),T=i(39168);let P={Box_0:"AdvancedFilterItem-module__Box_0--G8DZm",Box_1:"AdvancedFilterItem-module__Box_1--yo8eF",Text_0:"AdvancedFilterItem-module__Text_0--BBmW3",Box_2:"AdvancedFilterItem-module__Box_2--aysFO",Box_3:"AdvancedFilterItem-module__Box_3--A_onh",Box_4:"AdvancedFilterItem-module__Box_4--qnVMk",Text_1:"AdvancedFilterItem-module__Text_1--_HTwo",RemoveFilterButton_0:"AdvancedFilterItem-module__RemoveFilterButton_0--dhVAp",Box_5:"AdvancedFilterItem-module__Box_5--NLCm7",Box_6:"AdvancedFilterItem-module__Box_6--JxlLs",Box_7:"AdvancedFilterItem-module__Box_7--MpT3t",Box_8:"AdvancedFilterItem-module__Box_8--cm6Lh"},$={Button_0:"OperatorSelect-module__Button_0--i150F",Octicon_0:"OperatorSelect-module__Octicon_0--PENt3"},V=({filterBlock:e,index:t,setFilterOperator:i})=>(0,r.jsxs)(N.W,{children:[(0,r.jsx)(N.W.Anchor,{children:(0,r.jsx)(v.Q,{size:"small",disabled:!e.provider,id:`afd-row-${t}-operator`,"aria-label":`Operator ${t+1}`,className:$.Button_0,trailingVisual:()=>(0,r.jsx)(k.A,{icon:c.TriangleDownIcon,className:$.Octicon_0}),children:e.operator?T._W[e.operator]:T._W[x.tl.Is]})}),(0,r.jsx)(N.W.Overlay,{width:"auto",children:(0,r.jsx)(I.l,{selectionVariant:"single",children:(0,_.nV)(e.provider).map(t=>(0,r.jsx)(I.l.Item,{onSelect:()=>i(t),selected:t===e.operator,children:T._W[t]},`advanced-filter-item-${e.id}-operator-${t}`))})})]});try{V.displayName||(V.displayName="OperatorSelect")}catch{}var j=i(52464);let A={Octicon_0:"QualifierSelect-module__Octicon_0--e5BjZ",Button_0:"QualifierSelect-module__Button_0--Sx55F",ActionMenu_Overlay_0:"QualifierSelect-module__ActionMenu_Overlay_0--kV8Dg",ActionList_0:"QualifierSelect-module__ActionList_0--ePVF_"},O=({filterBlock:e,filterProviders:t,index:i,setFilterProvider:a})=>(0,r.jsxs)(N.W,{children:[(0,r.jsx)(N.W.Anchor,{children:(0,r.jsx)(v.Q,{id:`afd-row-${i}-qualifier`,"aria-label":`Qualifier ${i+1}`,className:(0,u.$)("advanced-filter-item-qualifier",A.Button_0),size:"small",leadingVisual:()=>e?.provider?.icon?(0,r.jsx)(k.A,{icon:e?.provider?.icon,className:A.Octicon_0}):null,trailingVisual:()=>(0,r.jsx)(k.A,{icon:c.TriangleDownIcon,className:A.Octicon_0}),children:(0,_.sF)(e)?e?.provider?.displayName??e?.provider?.key??"Select a filter":j.A})}),(0,r.jsx)(N.W.Overlay,{className:A.ActionMenu_Overlay_0,children:(0,r.jsx)(I.l,{selectionVariant:"single",className:A.ActionList_0,children:t.map((t,i)=>{let{icon:l}=t;return(0,r.jsxs)(I.l.Item,{onSelect:()=>a(t),selected:t.key===e.provider?.key,children:[l&&(0,r.jsx)(I.l.LeadingVisual,{children:(0,r.jsx)(l,{})}),t.displayName??t.key]},`advanced-filter-item-${e.id}-provider-${t.key}-${i}`)})})})]});try{O.displayName||(O.displayName="QualifierSelect")}catch{}var D=i(87330);let E={IconButton_0:"RemoveFilterButton-module__IconButton_0--E6OIE"},R=({ariaLabel:e,onClick:t,className:i,testId:a=""})=>(0,r.jsx)(D.K,{icon:c.XIcon,size:"small",variant:"invisible","aria-label":e,onClick:t,className:(0,u.$)(i,E.IconButton_0),...(0,s.G)(a)});try{R.displayName||(R.displayName="RemoveFilterButton")}catch{}var L=i(67269),M=i(67749);let q={Button_0:"BooleanValueSelect-module__Button_0--uyDWd",Octicon_0:"BooleanValueSelect-module__Octicon_0--sd1Va"};var H=i(22868),G=i(31575);let U={Box_0:"ValuePlaceholder-module__Box_0--sRIos",Box_1:"ValuePlaceholder-module__Box_1--AzhbD",Octicon_0:"ValuePlaceholder-module__Octicon_0--nMPaj",AvatarStack:"ValuePlaceholder-module__AvatarStack--UPe_t"},W=({filterBlock:e})=>{let t=e.value?.values.filter(e=>e.valid&&""!==e.value)??[];if(0===t.length)return(0,r.jsx)("div",{className:U.Box_0,children:"Make a selection"});let i=e.value?.values?.[0]?.displayName,a=e.value?.values?.[0]?.name,l=e.value?.values?.[0]?.description,s=(0,_.I8)(e.value?.values?.[0]?.value),o=`${t.length} selected`;return 1===t.length&&(o=i??a??l??s),(0,r.jsxs)("div",{className:U.Box_1,children:[(0,r.jsx)(K,{filterBlock:e}),o]})},K=({filterBlock:e})=>{if(!e.value?.values||e.value.values.length<1)return null;if(e.provider?.type===x.CH.User){let t=[];for(let i of e.value?.values??[]){let a=i?.avatar?.url??i?.avatarUrl;a&&t.push((0,r.jsx)(H.r,{src:a,size:16,alt:i.displayName??(0,_.I8)(i.value)??""},`${e.provider.key}-${e.id}-avatar-${(0,_.I8)(i.value)}`))}if(t.length>0)return(0,r.jsx)(G.A,{disableExpand:!0,size:16,className:U.AvatarStack,children:t})}if(e.value?.values?.length===1){let t=e.provider?.filterValues?.find(t=>t.value===e.value?.values?.[0]?.value);if(t?.icon)return(0,r.jsx)(k.A,{icon:t.icon,className:U.Octicon_0})}return null};try{W.displayName||(W.displayName="ValuePlaceholder")}catch{}try{K.displayName||(K.displayName="ValuePlaceholderIcon")}catch{}let Q=({filterBlock:e,setFilterValues:t})=>(0,r.jsxs)(N.W,{children:[(0,r.jsx)(N.W.Anchor,{children:(0,r.jsx)(v.Q,{size:"small",className:q.Button_0,trailingVisual:()=>(0,r.jsx)(k.A,{icon:c.TriangleDownIcon,className:q.Octicon_0}),...(0,s.G)("afd-row-value-select-boolean-button"),children:(0,r.jsx)(W,{filterBlock:e})})}),(0,r.jsx)(N.W.Overlay,{children:(0,r.jsxs)(I.l,{selectionVariant:"single",...(0,s.G)("afd-row-value-select-list"),children:[(0,r.jsx)(I.l.Item,{onSelect:()=>t(!0),selected:void 0===(0,_.I8)(e.value?.values[0]?.value)||"true"===(0,_.I8)(e.value?.values[0]?.value),children:"True"}),(0,r.jsx)(I.l.Item,{onSelect:()=>t(!1),selected:"false"===(0,_.I8)(e.value?.values[0]?.value),children:"False"})]})})]});try{Q.displayName||(Q.displayName="BooleanValueSelect")}catch{}let z={Octicon_0:"ValueSelect-module__Octicon_0--sV5zM",Box_0:"ValueSelect-module__Box_0--nPnZ6",TextInput_0:"ValueSelect-module__TextInput_0--uGUsB",Box_1:"ValueSelect-module__Box_1--mcNDC",TextInput_1:"ValueSelect-module__TextInput_1--osf96",Button_0:"ValueSelect-module__Button_0--ydJ6J"},X=e=>e&&[x.CH.Select,x.CH.User].includes(e),J=e=>e&&e===x.CH.Date,Y=e=>e&&[x.CH.Number,x.CH.Date,x.CH.Text].includes(e),Z=({filterBlock:e,setValuesFilter:t,setFilterValues:i,setFilterFrom:a,setFilterText:l,setFilterTo:o,valueElements:n,index:p,selectedFilteredValues:y})=>{let[m,h]=(0,d.useState)(!1);(0,d.useEffect)(()=>{m||t("")},[m,t]);let g=(0,d.useMemo)(()=>({renderAnchor:({...t})=>(0,r.jsx)(v.Q,{...t,id:`afd-row-${p}-value`,size:"small",alignContent:"start",disabled:!e.operator,"aria-label":`Value ${p+1}`,className:(0,u.$)("advanced-filter-item-value",z.Button_0),trailingVisual:()=>(0,r.jsx)(k.A,{icon:c.TriangleDownIcon,className:z.Octicon_0}),...(0,s.G)("afd-row-value-select-button"),children:(0,r.jsx)("div",{className:z.Box_0,children:(0,r.jsx)(W,{filterBlock:e})})}),placeholderText:"Filter values",open:m,onOpenChange:h,items:n,onFilterChange:t,showItemDividers:!1,overlayProps:{width:"small",sx:{maxHeight:["50vh","50vh","300px"]}},...(0,s.G)("afd-row-value-select")}),[m,n,t,p,e]);if(X(e.provider?.type))return Array.isArray(y),(0,r.jsx)(L.X,{...g,selected:y,onSelectedChange:i});if(e.provider?.type===x.CH.Boolean)return(0,r.jsx)(Q,{filterBlock:e,setFilterValues:i});if(Y(e.provider?.type)){if(e.operator===x.tl.Between)return(0,r.jsx)(ee,{index:p,fromValue:(0,_.I8)(e.value?.values[0]?.value)??"",toValue:(0,_.I8)(e.value?.values[1]?.value)??"",setFromValue:a,setToValue:o});let t=J(e.provider?.type)?"YYYY-MM-DD":`Enter a ${e.provider?.type.toString().toLowerCase()??"value"}`,i=e.provider?.type===x.CH.Number?"number":"text";return(0,r.jsx)(M.A,{"aria-label":`Value ${p+1}`,size:"small",type:i,value:e.value?.raw,onChange:l,placeholder:t,className:z.TextInput_0,...(0,s.G)(`afd-row-${p}`)})}return(0,r.jsx)(M.A,{"aria-label":`Value ${p+1}`,size:"small",value:e.value?.raw,onChange:l,placeholder:"Enter search text",className:z.TextInput_0,...(0,s.G)(`afd-row-${p}`)})},ee=({index:e,fromValue:t,toValue:i,setFromValue:a,setToValue:l})=>(0,r.jsxs)("div",{className:z.Box_1,children:[(0,r.jsx)(M.A,{"aria-label":`Value ${e+1} From`,size:"small",value:t,onChange:a,placeholder:"From",className:z.TextInput_1,...(0,s.G)(`afd-row-${e}-from`)}),(0,r.jsx)("span",{children:"-"}),(0,r.jsx)(M.A,{"aria-label":`Value ${e+1} To`,size:"small",value:i,onChange:l,placeholder:"To",className:z.TextInput_1,...(0,s.G)(`afd-row-${e}-to`)})]});try{Z.displayName||(Z.displayName="ValueSelect")}catch{}try{ee.displayName||(ee.displayName="BetweenFilterInputs")}catch{}let et=({index:e,filterBlock:t,filterProviders:i,updateFilterBlock:a,deleteFilterBlock:l})=>{let{config:o}=(0,g.U2)(),{filterQuery:n}=(0,g.g0)(),[c,p]=(0,d.useState)(t.provider?.filterValues??[]),[v,y]=(0,d.useState)(""),[m,h]=(0,d.useState)(t.provider?.options?.filterTypes.multiValue?[]:void 0),N=(0,d.useMemo)(()=>(0,_.sF)(t)?c.filter(e=>!(v.length>0)||(0,F.qA)(v,(0,_.I8)(e.value)??"")||(0,F.qA)(v,e.displayName??"")):[],[t,v,c]),I=(0,d.useMemo)(()=>{let e=Array.from(i);return t.provider&&!i.find(e=>e.key===t.provider?.key)&&e.push(t.provider),e.sort((e,t)=>(e.displayName??e.key)?.localeCompare(t.displayName??t.key)??0)},[t.provider,i]),k=(0,d.useMemo)(()=>{let e=Array.isArray(m)?[...m]:m?[m]:[];return N?.reduce((e,i)=>{let r=t.provider?.getValueRowProps(i);return(e.findIndex(e=>e.text===r?.text)??-1)===-1&&e.push({...r,leadingVisual:r?.leadingVisual?()=>r.leadingVisual:void 0,trailingVisual:r?.trailingVisual?()=>r.trailingVisual:void 0}),e},e)},[t.provider,N,m]),b=(0,d.useCallback)(e=>{if(e.type!==x.CH.RawText){let i=t.provider?.type===x.CH.RawText&&e.type===x.CH.Text,r=e.type===t.provider?.type||i?t.value:{raw:"",values:[]};a({...t,key:{value:e.key,valid:!0},provider:e,operator:(0,_.nV)(e)[0],value:r})}else{let e=t.provider?.type===x.CH.Text&&t.value?t.value:{raw:"",values:[]};a({...t,key:void 0,provider:f.J,operator:(0,_.nV)(f.J)[0],raw:e.raw,value:e})}},[t,a]),w=(0,d.useCallback)(e=>{let i={};if(t.value&&!T.BP.includes(e)){let e=[];i={value:{values:t.value.values.map(t=>{let i=_.M5(t.value)?.replace(/^[<>]=?/g,"").replaceAll("..","")??"";return e.push(i),{...t,value:i}})??[],raw:e.join(o.valueDelimiter)}}}a({...t,operator:e,...i})},[o.valueDelimiter,t,a]),S=(0,d.useCallback)(e=>{let i=[];if(void 0===e)i=[];else if("boolean"==typeof e)i=[{value:e.toString(),displayName:(0,_.ZH)(e.toString())}];else if(t.provider?.options?.filterTypes.multiValue&&Array.isArray(e)){let r=t.value?.values.filter(e=>!F.qA(v,_.I8(e.value)??"")&&!F.qA(v,e.displayName??""));for(let t of(r&&(i=r),e)){let e=c.find(e=>e.displayName===t.text||e.value===t.text);e&&i.push(e)}}else{let t=e.text,r=c.find(e=>e.displayName===t||e.value===t);if(void 0===r)return;i=[r]}i=i.filter(e=>e.value.length>0),h("boolean"==typeof e?void 0:e),a({...t,value:{...t.value,raw:i.map(e=>(0,_.I8)(e.value)).join(o.valueDelimiter),values:i.map(e=>({...e,valid:!0}))}})},[o.valueDelimiter,t,a,c,v]),C=(0,d.useCallback)(e=>{let i=[{value:e.target.value,valid:!0},t.value?.values?.[1]??{value:"",valid:!0}],r=`${(0,_.I8)(i[0]?.value)}..${(0,_.I8)(i[1]?.value)}`;a({...t,value:{values:i,raw:r}})},[t,a]),B=(0,d.useCallback)(e=>{let i=[t.value?.values?.[0]??{value:"",valid:!0},{value:e.target.value,valid:!0}],r=`${(0,_.I8)(i[0]?.value)}..${(0,_.I8)(i[1]?.value)}`;a({...t,value:{values:i,raw:r}})},[t,a]),$=(0,d.useCallback)(e=>{a({...t,value:{values:[{value:e.target.value,valid:!0}],raw:e.target.value}})},[t,a]);return(0,d.useEffect)(()=>{(async()=>{if(t.provider){let e=await t.provider.getSuggestions(n,{...t,value:{values:[{value:v,valid:!0}],raw:v}},o);p(e?e.filter(e=>e.type!==x.ak.NoValue&&!e.displayName?.startsWith("Exclude")):[])}})()},[o,t,t.provider,n,v]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("fieldset",{className:(0,u.$)(`advanced-filter-item-${e}`,P.Box_0),...(0,s.G)("afd-filter-row"),children:[(0,r.jsx)("legend",{className:P.Box_1,children:(0,r.jsx)("h2",{children:`Row ${e+1}`})}),(0,r.jsx)("span",{className:P.Text_0,children:e+1}),(0,r.jsxs)("div",{className:P.Box_2,children:[(0,r.jsxs)("div",{className:P.Box_3,children:[(0,r.jsxs)("div",{className:P.Box_4,children:[(0,r.jsx)("span",{className:P.Text_1,children:"Qualifier"}),(0,r.jsx)(O,{filterBlock:t,index:e,filterProviders:I,setFilterProvider:b})]}),(0,r.jsxs)("div",{className:P.Box_4,children:[(0,r.jsx)("span",{className:P.Text_1,children:"Operator"}),(0,r.jsx)(V,{setFilterOperator:w,filterBlock:t,index:e})]}),(0,r.jsxs)("div",{className:P.Box_4,children:[(0,r.jsx)("span",{className:P.Text_1,children:"Value"}),(0,r.jsx)(Z,{filterBlock:t,index:e,setValuesFilter:y,valueElements:k,selectedFilteredValues:m,setFilterValues:S,setFilterFrom:C,setFilterText:$,setFilterTo:B})]}),(0,r.jsx)(R,{onClick:()=>l(e),ariaLabel:`Delete filter ${e+1}: ${t.provider?.displayName??t.provider?.key}, ${t.operator}, ${t.value?.raw}`,testId:`afd-filter-row-delete-${e}`,className:P.RemoveFilterButton_0})]}),(0,r.jsxs)("div",{className:P.Box_5,children:[(0,r.jsx)("div",{children:(0,r.jsx)(R,{onClick:()=>l(e),ariaLabel:`Delete filter ${e+1}: ${t.provider?.displayName??t.provider?.key}, ${t.operator}, ${t.value?.raw}`})}),(0,r.jsx)("div",{className:P.Box_6,children:e+1})]})]})]}),(0,r.jsx)("div",{className:P.Box_7,children:(0,r.jsx)("div",{className:P.Box_8})})]})};try{et.displayName||(et.displayName="AdvancedFilterItem")}catch{}let ei={Box_0:"FilterList-module__Box_0--j9Mr4",Box_1:"FilterList-module__Box_1--C4Ox3",Box_2:"FilterList-module__Box_2--P3bNS",Box_3:"FilterList-module__Box_3--PpvTA",Box_4:"FilterList-module__Box_4--uvU7H",Text_0:"FilterList-module__Text_0--DLCnp"},er=({filterBlocks:e,filterProviders:t,updateFilterBlock:i,deleteFilterBlock:a,isNarrowBreakpoint:l,addFilterButtonMobileLastRowRef:s,addNewFilterBlock:o})=>(0,r.jsxs)("div",{className:ei.Box_0,children:[(0,r.jsxs)("div",{className:ei.Box_1,children:[(0,r.jsx)("div",{className:ei.Box_2}),(0,r.jsx)("div",{className:ei.Box_3}),(0,r.jsx)("span",{className:ei.Box_3,children:"Qualifier"}),(0,r.jsx)("span",{className:ei.Text_0,children:"Operator"}),(0,r.jsx)("span",{className:ei.Box_3,children:"Value"}),(0,r.jsx)("div",{})]}),e.map((e,l)=>(0,r.jsx)(et,{filterBlock:e,filterProviders:t,updateFilterBlock:i,index:l,deleteFilterBlock:a},`advanced-filter-item-${l}`)),(0,r.jsx)("div",{className:ei.Box_4,children:(0,r.jsx)(w,{size:l?"medium":"small",ref:s,filterProviders:t,addNewFilterBlock:o})})]});try{er.displayName||(er.displayName="FilterList")}catch{}let ea=e=>e.map((e,t)=>({...e,id:t})),el=(0,m.A)(e=>(t,i)=>i.map(t=>{let i=(0,_.n$)(t,e);return t.raw===i?t:{...t,raw:i}})),es=({filterButtonVariant:e="normal",isStandalone:t=!1})=>{let{config:i}=(0,g.U2)(),{filterQuery:a,filterProviders:l,updateFilter:m}=(0,g.g0)(),{hideSuggestions:N}=(0,g.Pt)(),[I,k]=(0,d.useState)(!1),b=(0,d.useRef)(null),{sendClickAnalyticsEvent:C}=(0,o.S)(),F=(0,d.useRef)(null),T=(0,d.useRef)(null),P=(0,d.useRef)(null),$=(0,n.tv)({regular:!1,narrow:!0},!1),V=(0,_.vU)(a.blocks),j=el(i),[A,O]=(0,d.useReducer)(j,V),[D,E]=(0,d.useState)(!1),R=(0,p.S)(),L=(0,d.useCallback)(async()=>!D||await R({...h.D.advancedFilterDialogCloseConfirmation,confirmButtonType:"danger"}),[R,D]),M=(0,d.useMemo)(()=>{let e=Object.values(l).filter(e=>(e.options.filterTypes.multiKey||A.filter(t=>(0,_.sF)(t)&&t.provider?.key===e.key).length<1)&&e.options.support.status===x.b9.Supported);return i.disableAdvancedTextFilter&&"button"===i.variant||e.push(f.J),e.sort((e,t)=>e.key?.localeCompare(t.displayName??"")??0)},[i.disableAdvancedTextFilter,i.variant,A,l]),q=(0,d.useCallback)(()=>{O(V),E(!1)},[V]),H=(0,d.useCallback)(e=>{O([...A,{id:A.length,type:x._B.Filter,provider:e,key:(0,_.Nn)(e),operator:(0,_.nV)(e)[0],value:{raw:"",values:[{value:"",valid:!0}]}}]),E(!0),setTimeout(()=>{let e=document.querySelectorAll(".advanced-filter-item-qualifier");e[e.length-1]?.focus()},10)},[A]),G=(0,d.useCallback)(e=>{E(!0),O(A.map(t=>t.id===e.id?e:t))},[A]),U=(0,d.useCallback)(e=>{let t;let i=A.filter((t,i)=>i!==e);O(ea(i)),t=$?i.length>0?P:T:F,setTimeout(()=>t.current?.focus(),20)},[A,$]),W=t?"button_only":"button_and_input",K=(0,d.useCallback)(()=>{q(),N(),k(!0),C({action:"open_advanced_filter_dialog",label:`variant:${W}`})},[N,q,C,W]),Q=(0,d.useCallback)(async e=>{(e||await L())&&(k(!1),q(),setTimeout(()=>{b.current?.focus()},20))},[L,q]),z=(0,d.useCallback)(e=>{let t=e.filtersUsed.length>0?e.filtersUsed.join(","):"";C({action:"submit_filter_query",label:`variant:${W};event_type:${x.FT.DialogSubmit};used_filter_providers:${t};nested_group_depth:${e.nestedGroupCount};submitted_by:filter_dialog`})},[C,W]),X=(0,d.useCallback)(async()=>{let e=A.map(({raw:e})=>e).join(" ");m(e,e.length,z,x.FT.DialogSubmit),await Q(!0)},[Q,A,z,m]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Q,{ref:b,onClick:K,...(0,s.G)("advanced-filter-button"),"aria-label":"Advanced filter dialog",leadingVisual:c.FilterIcon,count:a.filterCount>0?a.filterCount:void 0,className:(0,u.$)(S.Button_0,t&&S.standaloneButton),children:"normal"===e&&"Filter"}),I&&(0,r.jsx)(y.l,{onClose:()=>Q(),role:"dialog",title:"Advanced filters",position:{narrow:"fullscreen",regular:"center"},renderFooter:()=>(0,r.jsxs)("div",{className:S.Box_0,children:[(0,r.jsx)("div",{className:S.Box_1,children:(0,r.jsx)(w,{size:$?"medium":"small",ref:F,filterProviders:M,addNewFilterBlock:H})}),(0,r.jsxs)("div",{className:S.Box_2,children:[(0,r.jsx)(v.Q,{size:$?"medium":"small",onClick:()=>Q(),...(0,s.G)("afd-cancel"),children:"Cancel"}),(0,r.jsx)(v.Q,{size:$?"medium":"small",variant:"primary",onClick:X,...(0,s.G)("afd-apply"),children:"Apply"})]})]}),renderBody:()=>(0,r.jsxs)("div",{className:(0,u.$)("advanced-filter-dialog-content",S.Box_4,A.length&&S.nonEmpty),...(0,s.G)("advanced-filter-dialog-content"),children:[(0,r.jsx)("div",{id:"__primerPortalRoot__",style:{zIndex:10,position:"absolute",width:"100%"}}),(0,r.jsxs)("div",{className:S.Box_3,children:[A.length<1&&(0,r.jsx)(B,{isNarrowBreakpoint:$,addFilterButtonMobileRef:T,filterProviders:M,addNewFilterBlock:H}),A.length>0&&(0,r.jsx)(er,{addFilterButtonMobileLastRowRef:P,addNewFilterBlock:H,deleteFilterBlock:U,filterBlocks:A,filterProviders:M,isNarrowBreakpoint:$,updateFilterBlock:G})]})]})})]})};try{es.displayName||(es.displayName="AdvancedFilterDialog")}catch{}let eo={clearButton:"ClearButton-module__clearButton--KL73f"},en=(0,d.memo)(()=>{let{suspendFocus:e}=(0,g.Ge)(),{rawFilterRef:t,clearFilter:i}=(0,g.g0)();if(t?.current.length!==0)return(0,r.jsx)(D.K,{...(0,s.G)("filter-clear-query"),as:"button",className:eo.clearButton,"aria-label":"Clear filter",onMouseDown:t=>e(t.currentTarget),onKeyDown:t=>e(t.currentTarget),onClick:()=>i(),icon:c.XCircleFillIcon,variant:"invisible",size:"small"})});en.displayName="ClearButton";var eu=i(28972),ed=i(21468);let ec={Box_0:"Filter-module__Box_0--BNVXr",Box_1:"Filter-module__Box_1--FEs2o",Box_2:"Filter-module__Box_2--cXSlw",leftRounded:"Filter-module__leftRounded--oMsKD",rightRounded:"Filter-module__rightRounded--uJJOd",hasSubmit:"Filter-module__hasSubmit--Kbnqi"};var ep=i(58735);let ev={Box_0:"FilterInputIcon-module__Box_0--GpqZN",Octicon_0:"FilterInputIcon-module__Octicon_0--aj4CD"},ey=()=>(0,r.jsx)("div",{className:ev.Box_0,children:(0,r.jsx)(k.A,{icon:c.SearchIcon,"aria-label":"Search",className:ev.Octicon_0})});try{ey.displayName||(ey.displayName="FilterInputIcon")}catch{}let em={Box_0:"FilterInputWrapper-module__Box_0--chXAO",Box_1:"FilterInputWrapper-module__Box_1--vewob"},eh=({children:e,isStandalone:t=!1})=>t?(0,r.jsx)("div",{...(0,s.G)("filter-bar"),className:em.Box_0,children:e}):(0,r.jsx)("div",{...(0,s.G)("filter-bar"),className:em.Box_1,children:e});try{eh.displayName||(eh.displayName="FilterInputWrapper")}catch{}var eg=i(51012);let ef={Box_0:"Input-module__Box_0--Don6t",Box_1:"Input-module__Box_1--k2OuJ",Box_2:"Input-module__Box_2--aQerX",Box_3:"Input-module__Box_3--gjsry",Box_4:"Input-module__Box_4--GVHsf"},ex={Box_0:"StyledInput-module__Box_0--fI46v",Box_1:"StyledInput-module__Box_1--_Dcqj",Box_2:"StyledInput-module__Box_2--JRyid",KeyBlock_0:"StyledInput-module__KeyBlock_0--Y18rv"},e_={Text_0:"StyledInputBlocks-module__Text_0--SEA41"},eN=({text:e})=>(0,r.jsx)("span",{className:"text-block",children:e}),eI=({text:e})=>(0,r.jsx)("span",{className:"delimiter space-delimiter",children:e}),ek=({delimiter:e})=>(0,r.jsx)("span",{className:"delimiter",children:e}),eb=({keyword:e})=>(0,r.jsx)("span",{className:(0,u.$)("keyword-block",e_.Text_0),children:e}),ew=({text:e,className:t})=>(0,r.jsx)("span",{"data-type":"filter",className:t,children:e});try{eN.displayName||(eN.displayName="TextBlock")}catch{}try{eI.displayName||(eI.displayName="SpaceBlock")}catch{}try{ek.displayName||(ek.displayName="Delimiter")}catch{}try{eb.displayName||(eb.displayName="KeywordBlock")}catch{}try{ew.displayName||(ew.displayName="KeyBlock")}catch{}let eS=[x.tl.GreaterThan,x.tl.LessThan,x.tl.Before,x.tl.After],eC=[x.tl.GreaterThanOrEqualTo,x.tl.LessThanOrEqualTo,x.tl.BeforeAndIncluding,x.tl.AfterAndIncluding],eB=()=>{let{config:e}=(0,g.U2)(),{inputFocused:t,updateStyledInputBlockCount:i}=(0,g.Ge)(),{rawFilterRef:a,filterQuery:l,isInitialValidation:s}=(0,g.g0)(),o=(0,d.useRef)([]),n=(e,i,a,o)=>{let{id:n,key:d,operator:c}=e,{value:p,valid:v}=i;if(!s){if(v){let e=0;eS.includes(c)?e=1:eC.includes(c)&&(e=2);let t=_.I8(p)?.charAt(e);return t&&T.wO.includes(t)?(0,r.jsx)("span",{"data-type":"filter-value",className:(0,u.$)(v?"valid-filter-value":"invalid-filter-value",ex.Box_0),children:(0,_.I8)(p)},`filter-block-${a}-${d.value}-${o?`${o}-`:""}${(0,_.I8)(p)}`):(0,r.jsx)("span",{"data-type":"filter-value",className:(0,u.$)(v?"valid-filter-value":"invalid-filter-value",ex.Box_1),children:(0,_.I8)(p)},`filter-block-${a}-${d.value}-${o?`${o}-`:""}${(0,_.I8)(p)}`)}if(void 0!==v&&(!1===v&&l.activeBlock?.id!==n||!t))return(0,r.jsx)("span",{"data-type":"filter-value",className:(0,u.$)(v?"valid-filter-value":"invalid-filter-value",ex.Box_2),children:(0,_.I8)(p)},`filter-block-${a}-${d.value}-${o?`${o}-`:""}${(0,_.I8)(p)}`)}return(0,r.jsx)("span",{"data-type":"filter-value",className:v?"valid-filter-value":"invalid-filter-value",children:(0,_.I8)(p)},`filter-block-${a}-${d.value}-${o?`${o}-`:""}${(0,_.I8)(p)}`)},c=(0,d.useMemo)(()=>{let i=[];return(0,_.Ed)(l,a?.current)?(!function a(s,o){for(let[d,c]of s.entries()){let s;if((0,_.aK)(c)){let{key:i,operator:a,value:p}=c,v=!1===i.valid&&(l.activeBlock?.id!==c.id||!t),y=(0,r.jsx)(ew,{text:i.value,className:(0,u.$)(v&&ex.KeyBlock_0)},`filter-block-${d}-key`),m=(0,r.jsx)(ek,{delimiter:e.filterDelimiter},`filter-block-${d}-delimiter`),h=[];if(a===x.tl.Between){let e=p.values[0],t=p.values[1];e&&h.push(n(c,e,d,1)),h.push((0,r.jsx)("span",{className:"delimiter",children:".."},`filter-block-${d}-${i.value}-delimiter-1`)),t&&h.push(n(c,t,d,2))}else h=p.values.map((t,a)=>(0,r.jsxs)("span",{children:[a>0&&(0,r.jsx)("span",{className:"delimiter",children:e.valueDelimiter},`filter-block-${d}-${i.value}-delimiter-${a}`),n(c,t,d)]},`filter-block-${d}-${i.value}-values-${a}}`));s=(0,r.jsxs)("span",{"data-type":"filter-expression",children:[y,m,h]},`filter-block-${o}-${d}-${i.value}`)}else c.type===x._B.Space?s=(0,r.jsx)(eI,{text:c.raw},`space-block-${o}-${d}`):c.type===x._B.Keyword?s=(0,r.jsx)(eb,{keyword:c.raw},`keyword-block-${o}-${d}`):(0,_.W9)(c)?(i.push((0,r.jsx)(eN,{text:"("},`text-open-${o}-${d}`)),a(c.blocks,o?`${o}-${d}`:`${d}`),i.push((0,r.jsx)(eN,{text:")"},`text-close-${o}-${d}`))):s=(0,r.jsx)(eN,{text:c.raw},`text-block-${o}-${d}`);i.push(s)}}(l.blocks,"root"),o.current=i,i):o.current},[l.raw,l.blocks,l.activeBlock,l.isValidated,t,e.filterDelimiter,e.valueDelimiter]);return(0,d.useEffect)(()=>{i(c.length)},[c.length,i]),(0,r.jsx)(r.Fragment,{children:0===c.length?a?.current:c})};try{eB.displayName||(eB.displayName="StyledInput")}catch{}let eF=({id:e,hasValidationMessage:t=!1,placeholder:i="Search or filter",onKeyDown:a})=>{let{suggestionsVisible:l,activeSuggestion:o,suggestionGroups:n}=(0,g.Pt)(),{caretRef:c,inputFocused:p,inputKeyDown:v,inputOnBlur:y,inputOnCompositionStart:m,inputOnCompositionEnd:h,inputOnChange:f,inputOnFocus:x,inputRef:_,inputSelectionEnd:N,inputSelectionStart:I,inputValue:k,updateInputSelection:b}=(0,g.Ge)(),w=(0,d.useRef)(null),[S,C]=(0,d.useState)(0),B=(0,d.useRef)(null),F=(0,d.useCallback)(e=>{b(e.selectionStart??0,e.selectionEnd??0)},[b]),T=(0,d.useCallback)(e=>{F(e.currentTarget),v(e),a?.(e)},[F,v,a]),P=(0,d.useCallback)(e=>{F(e.currentTarget)},[F]),$=(0,d.useMemo)(()=>{let e=Math.max((w.current?.scrollWidth??0)+2,eu.$_);return`${e}px`},[I,w.current?.scrollWidth,k]);(0,eg.N)(()=>{let e=c.current,t=B.current;e&&t&&(e.offsetLeft<S?C(e.offsetLeft-t.clientWidth-eu.$_):e.offsetLeft>S+t.clientWidth?C(e.offsetLeft-t.clientWidth+eu.$_):t.scrollLeft=S)},[c,S,I,k]);let V=(0,d.useMemo)(()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:I?k.substring(0,I):k}),(0,r.jsx)("span",{...(0,s.G)("filter-cursor"),ref:c}),(0,r.jsx)("span",{children:I?k.substring(I):null})]}),[c,I,k]),j=(0,d.useMemo)(()=>l&&n.some(e=>e.suggestions.length>0),[n,l]);return(0,d.useEffect)(()=>{_.current&&I>-1&&p&&(_.current.selectionStart=I,_.current.selectionEnd=N)},[_,I,N,k]),(0,r.jsxs)("div",{...(0,s.G)("styled-input-container"),ref:B,tabIndex:-1,className:(0,u.$)("styled-input-container",ef.Box_0),children:[(0,r.jsx)("div",{...(0,s.G)("styled-input-content"),"aria-hidden":"true",className:(0,u.$)("styled-input-content",ef.Box_1),children:(0,r.jsx)(eB,{})}),(0,r.jsxs)("div",{...(0,s.G)("filter-input-wrapper"),className:ef.Box_2,children:[(0,r.jsx)("div",{...(0,s.G)("filter-sizer"),ref:w,"aria-hidden":"true",className:ef.Box_3,children:V}),(0,r.jsx)("input",{id:`${e}-input`,role:"combobox","aria-expanded":j,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":`${e}-results`,"aria-activedescendant":null!==o&&-1!==o&&l?`suggestion-${o}`:void 0,"aria-describedby":t?`${e}-validation-message`:"",placeholder:i,ref:_,value:k,onFocus:x,onBlur:y,onCompositionStart:m,onCompositionEnd:h,onKeyDown:T,onClick:P,onChange:f,name:`${e}-inputname`,autoComplete:"off",spellCheck:"false",style:{width:$},className:ef.Box_4,...(0,s.G)("filter-input")})]})]})};try{eF.displayName||(eF.displayName="Input")}catch{}let eT={IconButton_0:"SubmitButton-module__IconButton_0--AJwMO"},eP=()=>{let{onSubmit:e}=(0,g.g0)();return(0,r.jsx)(D.K,{"aria-label":"Search",size:"medium",icon:c.SearchIcon,variant:"default",onClick:()=>{e(x.FT.ExplicitSubmit,"input_with_button")},className:eT.IconButton_0})};try{eP.displayName||(eP.displayName="SubmitButton")}catch{}var e$=i(92979),eV=i(22084);let ej={item:"SuggestionItem-module__item--hWolC",Box_0:"SuggestionItem-module__Box_0--FO_jZ",GitHubAvatar_0:"SuggestionItem-module__GitHubAvatar_0--_U3KQ",SafeHTMLText_0:"SuggestionItem-module__SafeHTMLText_0--IPuTJ",boldText:"SuggestionItem-module__boldText--WYZBt",normalText:"SuggestionItem-module__normalText--mu4Jo",Box_1:"SuggestionItem-module__Box_1--GDdRF",ActionList_Description:"SuggestionItem-module__ActionList_Description--Y43Fu"},eA=e=>{let{suggestionId:t,active:i,icon:a,iconColor:l,value:s,avatar:o,displayName:n,ariaLabel:c}=e,{suggestionSelected:p,activeSuggestionRef:v}=(0,g.Pt)(),{inputRef:y}=(0,g.Ge)(),m=(0,d.useCallback)(()=>{p(e),y.current?.focus()},[y,e,p]),h=(0,d.useCallback)(e=>{i&&e?(v.current=e,e.scrollIntoView({block:"nearest"})):v.current=null},[i,v]);return(0,r.jsxs)(I.l.Item,{id:`suggestion-${t}`,onSelect:m,active:i,role:"option","aria-label":c,"aria-selected":i,tabIndex:-1,"aria-labelledby":void 0,ref:h,className:ej.item,children:[(a||l||o)&&(0,r.jsx)(I.l.LeadingVisual,{children:(0,r.jsxs)("div",{className:ej.Box_0,children:[a?(0,r.jsx)(k.A,{icon:a,fill:l??"currentcolor"}):l?(0,r.jsx)("div",{style:{backgroundColor:l},className:ej.Box_1}):null,o&&(0,r.jsx)(H.r,{src:o.url,alt:(0,_.I8)(s)??"User Avatar",square:!1,className:ej.GitHubAvatar_0})]})}),(0,r.jsx)(eV.yx,{unverifiedHTML:n??(0,_.I8)(s)??"",className:(0,u.$)(ej.SafeHTMLText_0,e.description?ej.boldText:ej.normalText)}),e.description&&void 0!==e.inlineDescription&&(0,r.jsx)(I.l.Description,{variant:e.inlineDescription?"inline":"block",className:ej.ActionList_Description,children:e.description})]})};try{eA.displayName||(eA.displayName="SuggestionItem")}catch{}let eO={Box_0:"SuggestionsList-module__Box_0--Wvm5A",Box_1:"SuggestionsList-module__Box_1--ZCfM4",ActionList_0:"SuggestionsList-module__ActionList_0--aBWYm",Box_3:"SuggestionsList-module__Box_3--FlurF",showOverlay:"SuggestionsList-module__showOverlay--KgKYQ"},eD=({id:e})=>{let{id:t}=(0,g.U2)();e=e??t;let{suggestionsListRef:i,activeSuggestion:a,isFetchingSuggestions:l,position:o,suggestionGroups:n,suggestionsVisible:c}=(0,g.Pt)(),{suspendFocus:p}=(0,g.Ge)(),v=(e,t="wave")=>(0,r.jsxs)("div",{className:eO.Box_0,children:[(0,r.jsx)(e$.O,{variant:"elliptical",width:"20px",height:"20px",animationStyle:t}),(0,r.jsx)(e$.O,{variant:"rounded",width:"random",height:"16px",animationStyle:t})]},e),y=(0,d.useMemo)(()=>(0,r.jsx)("div",{children:Array(8).fill(1).map((e,t)=>v(`loading-skeleton-${t}`))}),[]),m=(0,d.useMemo)(()=>v("prefetched-loading-skeleton","pulse"),[]),h=c&&n.some(e=>e.suggestions.length>0)||l,f=(0,d.useMemo)(()=>{let e=-1,t=[];return n.map((i,l)=>{i.suggestions.length>0&&(t.push((0,r.jsxs)(I.l.Group,{children:[i.title&&(0,r.jsx)(I.l.GroupHeading,{...(0,s.G)("suggestions-heading"),"aria-hidden":"true",children:i.title}),i.suggestions.map(t=>(e++,(0,d.createElement)(eA,{...t,suggestionId:e,key:(0,_.W5)("suggestion",t.id,`${(0,_.I8)(t.value)}-${t.displayName}-${t.description}`),active:e===a})))]},(0,_.W5)("group",i.id))),l++<n.length-1&&(n[l++]?.suggestions??[]).length>0&&t.push((0,r.jsx)(I.l.Divider,{},(0,_.W5)("divider",i.id))))}),t},[a,n]);return(0,r.jsx)("div",{className:eO.Box_1,...(0,s.G)("backdrop-anchor"),children:(0,r.jsx)("div",{id:`${e}-suggestions`,ref:i,className:(0,u.$)(eO.Box_3,h&&eO.showOverlay),style:{left:`${o?o.left:0}px`},children:(0,r.jsxs)(I.l,{...(0,s.G)("filter-results"),"aria-label":l?"Loading Suggestions":"Suggestions",role:"listbox",id:`${e}-results`,className:eO.ActionList_0,onMouseDown:e=>p(e.currentTarget),children:[h&&n.some(e=>e.suggestions.length>0)&&f,h&&l&&(0,r.jsx)("div",{children:n.some(e=>e.suggestions.length>0)?m:y})]})})})};try{eD.displayName||(eD.displayName="SuggestionsList")}catch{}var eE=i(65481);let eR={Flash_0:"ValidationMessage-module__Flash_0--abmkv",Octicon_0:"ValidationMessage-module__Octicon_0--UzZHU",Box_0:"ValidationMessage-module__Box_0--_x3JI",Box_1:"ValidationMessage-module__Box_1--zUogs",Box_2:"ValidationMessage-module__Box_2--V7TSg",SafeHTMLBox_0:"ValidationMessage-module__SafeHTMLBox_0--jJTK8"},eL=({id:e,messages:t})=>!t||t.length<1?null:(0,r.jsxs)(eE.A,{id:e,variant:"warning",className:eR.Flash_0,children:[(0,r.jsx)(k.A,{icon:c.AlertIcon,className:eR.Octicon_0}),(0,r.jsxs)("div",{className:eR.Box_0,children:[(0,r.jsx)("div",{className:eR.Box_1,...(0,s.G)("validation-error-count"),children:h.D.filterInvalid(t.length)}),(0,r.jsx)("ul",{className:eR.Box_2,...(0,s.G)("validation-error-list"),children:t.map(e=>(0,r.jsx)(eV.oG,{as:"li",unverifiedHTML:e,unverifiedHTMLConfig:{ALLOWED_TAGS:["pre"]},className:eR.SafeHTMLBox_0},e.replaceAll(" ","-")))})]})]});try{eL.displayName||(eL.displayName="ValidationMessage")}catch{}var eM=i(34614);let eq={Octicon_0:"FilterRevert-module__Octicon_0--KHDOC",Link_0:"FilterRevert-module__Link_0--h8G6E"},eH=({className:e,as:t,onClick:i,href:a})=>(0,r.jsxs)(eM.A,{...(0,s.G)("filter-revert-query"),as:t||"a",href:a,onClick:i,className:(0,u.$)(e,eq.Link_0),children:[(0,r.jsx)(k.A,{icon:c.UndoIcon,className:eq.Octicon_0}),"Revert filter changes"]});try{eH.displayName||(eH.displayName="FilterRevert")}catch{}let eG=new ep.N;function eU({className:e,context:t,"data-testid":i,filterButtonVariant:a="normal",filterValue:c,id:p,initialFilterValue:v,inputRef:y,label:m,onChange:g,onClear:f,onParse:x,onSubmit:_,onKeyDown:N,onValidation:I,placeholder:k,providers:b,settings:w,showValidationMessage:S=!0,variant:C="full",visuallyHideLabel:B=!0}){let[F,T]=(0,d.useState)([]),P=S&&F.length>0,{sendAnalyticsEvent:$}=(0,o.s)(),V=(0,d.useCallback)((e=[],t=eG)=>{JSON.stringify(F)!==JSON.stringify(e)&&T(e),I?.(e,t)},[I,F]),j=(0,n.tv)({regular:a,narrow:"button"===C?"normal":"compact"},a),A="string"==typeof c,[O,D]=(0,d.useState)(v||""),E=(0,d.useCallback)(e=>{A||D(e),g?.(e)},[A,g]);(0,d.useEffect)(()=>{if(F.length>0){let e=F.map(e=>e.replaceAll(/<pre>|<\/pre>/g,"'")).join(". "),t=`${h.D.filterInvalid(F.length)} ${e}.`;(0,l.i)(t),$("filter.validation_errors","FILTER_VALIDATION_ERRORS",{messages:e})}},[$,F]);let R="input"===C&&!_||"input"!==C&&!_;return(0,r.jsx)(ed.dv,{context:t,inputRef:y,rawFilter:A?c:O,onChange:E,onClear:f,onParse:x,onSubmit:_,onValidation:V,providers:b,settings:{...eu.Fy,...w},variant:C,children:(0,r.jsxs)("div",{id:p,role:"form",className:(0,u.$)("FormControl FormControl--fullWidth",e,ec.Box_1),...(0,s.G)(i??"filter"),children:[(0,r.jsx)("label",{id:`${p}-label`,htmlFor:`${p}-input`,className:`FormControl-label ${B?"sr-only":""}`,...(0,s.G)("filter-bar-label"),children:m}),(0,r.jsxs)("div",{className:ec.Box_0,children:[(0,r.jsxs)(eh,{isStandalone:"button"===C,children:["input"!==C&&(0,r.jsx)(es,{isStandalone:"button"===C,filterButtonVariant:j}),"button"!==C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,u.$)(ec.Box_2,"input"===C&&ec.leftRounded,R&&ec.rightRounded,_&&ec.hasSubmit),children:[!_&&(0,r.jsx)(ey,{}),(0,r.jsx)(eF,{id:p,placeholder:k,onKeyDown:N,hasValidationMessage:P}),(0,r.jsx)(en,{})]}),_&&(0,r.jsx)(eP,{})]})]}),(0,r.jsx)(eD,{id:p}),S&&(0,r.jsx)(eL,{messages:F,id:`${p}-validation-message`})]})]})})}let eW={},eK=e=>(0,r.jsx)(a.y,{appName:"shared_components",category:"filter",metadata:eW,children:(0,r.jsx)(eU,{...e})});try{eU.displayName||(eU.displayName="FilterInternal")}catch{}try{eK.displayName||(eK.displayName="Filter")}catch{}},32599:(e,t,i)=>{i.d(t,{xI:()=>I,g0:()=>N});var r=i(74848),a=i(97564),l=i(71312),s=i(96540),o=i(39168),n=i(58735),u=i(49929),d=i(24763),c=i(93800),p=i(91385),v=i(28972),y=i(31911),m=i(37932),h=i(40777),g=i(37015),f=i(81974);let NoFilterProvider=class NoFilterProvider extends g.e{getSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let a=(0,m.DS)(t,r),l=[];if(!a)return this.filterValues.filter(t=>(0,m.Di)(e,this.key,(0,m.M5)(t.value)).length<1);for(let t of this.filterValues){let{value:i,displayName:r}=t,s=(0,m.I8)(i),o=!!s&&(0,p.qA)(a,s),n=!!r&&(0,p.qA)(a,r);!((0,m.Di)(e,this.key,(0,m.M5)(s)).length>0)&&s&&(o||n)&&(t.priority-=(0,c.dt)(a,s),l.push({...t,type:y.ak.Value}))}return l}validateFilterBlockValues(e,t,i){return i.map((r,a)=>{let l=(0,m.I8)(r.value),s=(0,m.Di)(e,this.key,(0,m.M5)(l)).sort((e,t)=>e.id-t.id),o=!!l&&!!this.filterValues.find(e=>(0,m.SH)((0,m.I8)(e.value)??"",l));return s[0]?.id!==void 0&&(t.id!==s[0].id||i.findIndex(e=>e.value===l)<a)&&(o=!1),{...r,valid:o}})}getValueRowProps(e){return{text:e.displayName??(0,m.I8)(e.value)??"",leadingVisual:(0,h.d)({value:e})}}constructor(e,t){super(o._i.no,t),this.options={...v.dQ,...t,filterTypes:{...v.dQ.filterTypes,valueless:!1,...t?.filterTypes}},this.type=y.CH.Select,this.filterValues=e.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`}))}};let NoFilterProviderV2=class NoFilterProviderV2 extends f.Q{constructor(e,t){super(e,y.ak.NoValue,t)}};var x=i(10162);let _=(0,s.createContext)(void 0),N=()=>{let e=(0,s.useContext)(_);if(!e)throw Error("useFilterQuery must be used inside a FilterQueryContext");return e},I=({children:e,context:t,customParser:i,filterConfig:c,providers:p,inputRef:v,onChange:h,onClear:g,onParse:f,onSubmit:N,onValidation:I,rawFilter:k})=>{let b=(0,s.useRef)(""),w=(0,s.useRef)(i??new u.i([],c)),[S,C]=(0,s.useState)(()=>new n.N("",[],c)),[B,F]=(0,s.useState)(!0),{inputContextRef:T,config:P}=(0,x.U2)(),$=(0,a.G7)("issues_advanced_search_has_filter"),V="full"===P.variant?"button_and_input":"input"===P.variant?"input_only":"button_only",{sendClickAnalyticsEvent:j}=(0,l.S)();(0,s.useEffect)(()=>{S.staticContext=t},[t,S]);let A=(0,s.useCallback)(()=>{h(""),g?.(),v.current?.focus()},[v,h,g]),O=(0,s.useMemo)(()=>{let e={},t=[],i=[];if(p.map(r=>{e[r.key]=r,r.options.filterTypes.valueless&&t.push(r),r.options.filterTypes.hasValue&&i.push(r)}),t.length){let i=t.sort((e,t)=>(e.displayName??e.key)?.localeCompare(t.displayName??t.key)??0).map(e=>({value:e.key,priority:o.$D,displayName:e.displayName,type:y.ak.Value,icon:e.icon}));e.no=new($?NoFilterProviderV2:NoFilterProvider)(i)}if(i.length){let t=i.sort((e,t)=>(e.displayName??e.key)?.localeCompare(t.displayName??t.key)??0).map(e=>({value:e.key,priority:o.$D,displayName:e.displayName,type:y.ak.Value,icon:e.icon}));e.has=new d.M(t)}return w.current.filterProviders=Object.values(e),e},[p,$]),D=(0,s.useCallback)((e,t=!1)=>{I(e.getErrors(t||document.activeElement!==v.current),new n.N(e.raw,e.blocks,c,e.activeBlock))},[c,v,I]),E=(0,s.useCallback)((e,t,i)=>{new Promise((t,r)=>{let a=w.current.parse(i??k,S,e);(0,m.Ed)(a,b.current)?(C(a),t(a)):r(Error("Query out of sync, Aborted..."))}).then(e=>w.current.validateFilterQuery(e)).then(e=>new Promise((t,i)=>e&&(0,m.Ed)(e)?(F(!1),C(e),t(e)):i(Error(e?"Out of sync":"Empty Query, Aborted...")))).then(e=>{t?.(e)}).catch(()=>{})},[S,k]),R=(0,s.useCallback)((e,t)=>{E(e||(T.current?.caretStart??-1),e=>{D(e),t?.(e)})},[T,E,D]),L=(0,s.useCallback)(async(e,t,i)=>{let r=i??S;r.clearActiveBlock();let a=0,l=!1;for(;a<=3;){if((0,m.Ed)(r,k)){N?.(r,e),D(r,!0),l=!0;break}a+=1,await (0,m.he)(10)}l||E(T.current?.caretStart??-1,t=>{(0,m.Ed)(t,k)&&(N?.(t,e),D(r,!0))});let s=S.filtersUsed.length>0?S.filtersUsed.join(","):"";j({action:"submit_filter_query",label:`variant:${V};event_type:${e};used_filter_providers:${s};nested_group_depth:${S.nestedGroupCount};submitted_by:${t??"unnamed_submit_method"}`})},[S,T,N,E,D,k,j,V]),M=(0,s.useCallback)((e,t=-1,i,r)=>{let a=e??S.raw;h?.(a),r&&(b.current=a,E(t,e=>{(0,m.Ed)(e,b.current)&&(i?.(e),N?.(e,r))},a))},[S.raw,h,N,E]),q=(0,s.useCallback)(e=>{let[t,i]=w.current.replaceActiveBlockWithPresenceBlock(S,e);T.current?.updateCaretPosition(i),M(t,i)},[S,T,M]),H=(0,s.useCallback)((e,t,i=!1)=>{let[r,a]=w.current.insertSuggestion(S,e,t);T.current?.updateCaretPosition(a),T.current?.updateRawFilterValue(r),M(r,a,void 0,i?y.FT.SuggestionSelected:void 0)},[S,T,M]),G=(0,s.useCallback)(e=>{k!==b.current&&(b.current=k,E(T.current?.caretStart??-1,t=>{D(t),f?.(t),e(t)}))},[T,f,E,D,k]),U=(0,s.useMemo)(()=>({clearFilter:A,filterQuery:S,filterProviders:O,forceReparse:R,insertIntoQuery:H,isInitialValidation:B,onSubmit:L,rawFilterRef:b,replaceActiveBlockWithPresenceBlock:q,updateFilter:M,updateFromExternal:G}),[A,O,S,R,H,B,L,q,M,G]);return(0,r.jsx)(_.Provider,{value:U,children:e})};try{_.displayName||(_.displayName="FilterQueryContext")}catch{}try{I.displayName||(I.displayName="FilterQueryContextProvider")}catch{}},34532:(e,t,i)=>{i.d(t,{Ge:()=>p,NH:()=>y});var r=i(74848),a=i(64515),l=i(96540),s=i(31911),o=i(37932),n=i(10162),u=i(32599),d=i(73476);let c=(0,l.createContext)(void 0),p=()=>{let e=(0,l.useContext)(c);if(!e)throw Error("useInput must be used inside a InputContext");return e},v=(e,t,i,r)=>{let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");a?.set?.call(e,t),e.setSelectionRange(i,r??i),e.dispatchEvent(new Event("input",{bubbles:!0})),e.value=t},y=(0,l.forwardRef)(({caretRef:e=null,children:t,inputRef:i=null,value:p="",filterConfig:y},m)=>{let h=(0,l.useRef)(null);(0,a.T)(e,h);let g=(0,l.useRef)(null);(0,a.T)(i,g);let[f,x]=(0,l.useState)(!1),[_,N]=(0,l.useState)(!1),[I,k]=(0,l.useState)(-1),[b,w]=(0,l.useState)(-1),S=(0,l.useRef)(!1),[C,B]=(0,l.useState)(p),F=(0,l.useRef)(0),{hideSuggestions:T,suggestionGroups:P,activeSuggestion:$,setActiveSuggestion:V,suggestionsVisible:j,suggestionSelected:A,updateSuggestions:O}=(0,d.Pt)(),{forceReparse:D,onSubmit:E,rawFilterRef:R,updateFilter:L}=(0,u.g0)(),{config:M}=(0,n.U2)(),q=(0,l.useCallback)((e,t)=>{k(e),w(t??e)},[]);(0,l.useImperativeHandle)(m,()=>({caretStart:I,caretEnd:b,isComposing:S.current,inputHasFocus:_,styledInputBlockCount:F.current,updateCaretPosition:q,updateRawFilterValue:z}));let H=(0,l.useCallback)(e=>{if(S.current)return;let t=(0,o.jh)(P);if("ArrowLeft"===e.key||"ArrowRight"===e.key)T();else if("ArrowDown"===e.key)$+1>=t.length?V(-1):V($+1),e.preventDefault();else if("ArrowUp"===e.key)$<0?V(t.length-1):V($-1),e.preventDefault();else if("Enter"===e.key){if(j&&null!==$){let i=t[$];i?(e.preventDefault(),A(i),g.current?.focus()):E(s.FT.ExplicitSubmit,"input_with_enter")}else E(s.FT.ExplicitSubmit,"input_with_enter")}else if("Escape"===e.key)T();else if("Home"===e.key||"End"===e.key)V(-1);else if(y.groupAndKeywordSupport&&["("].includes(e.key)||'"'===e.key){let t=e.currentTarget,i=e.key;if(t.selectionStart!==t.selectionEnd&&["(",'"'].includes(i)){let r="("===i?")":'"',a=`${t.value.slice(0,I)}${i}${t.value.slice(I,b)}${r}${t.value.slice(b)}`;v(t,a,I+1,b+1),e.preventDefault();return}let r=t.selectionEnd??t.selectionStart??-1;if('"'===i&&'"'===t.value.charAt(r)){v(t,t.value,I+1),e.preventDefault();return}if(t.value.charAt(r).match(/\w/g)||t.value.charAt(r-1).match(/[\w"]/g))return;if("("===i){for(let[e,i]of(0,o.Dy)(t.value))if(r>e&&r<=i)return}e.preventDefault();let a="("===i?")":'"',l=`${t.value.slice(0,r)}${i}${a}${t.value.slice(r)}`;v(t,l,r+1)}else if("Backspace"===e.key){let t=e.currentTarget,i=t.selectionEnd??-1;if(y.groupAndKeywordSupport&&"("===t.value.charAt(i-1)&&")"===t.value.charAt(i)||'"'===t.value.charAt(i-1)&&'"'===t.value.charAt(i)){e.preventDefault();let r=`${t.value.slice(0,i-1)}${t.value.slice(i+1)}`;v(t,r,i-1)}}},[$,y.groupAndKeywordSupport,T,b,I,E,V,A,P,j]),G=(0,l.useCallback)(()=>{N(!0),f?x(!1):D(-1,async e=>{(0,o.Ed)(e,R?.current)&&await O(e,I)})},[f,D,R,O,I]),U=(0,l.useCallback)(()=>{f||(N(!1),D(-1),T())},[f,D,T]),W=(0,l.useCallback)(()=>{S.current=!0,T()},[T]),K=(0,l.useCallback)(()=>{S.current=!1},[]),Q=(0,l.useCallback)(e=>{let t=e.currentTarget,i=t.value;if(i===C)return;B(i),e.preventDefault();let r="button"!==M.variant?t.selectionStart??-1:-1,a="button"!==M.variant?t.selectionEnd??-1:-1;L(i,r,e=>{O(e,r)}),q(r,a)},[M.variant,L,q,O,C]),z=(0,l.useCallback)(e=>{e!==C&&(B(e),L(e,-1))},[C,L]),X=(0,l.useCallback)(e=>{F.current=e},[]),J=(0,l.useCallback)(()=>{x(!0)},[]),Y=(0,l.useMemo)(()=>({caretRef:h,inputFocused:_,inputKeyDown:H,inputOnBlur:U,inputOnCompositionStart:W,inputOnCompositionEnd:K,inputOnChange:Q,inputOnFocus:G,inputRef:g,inputSelectionEnd:b,inputSelectionStart:I,inputValue:C,suspendFocus:J,updateInputSelection:q,updateStyledInputBlockCount:X}),[_,H,U,W,K,Q,G,b,I,C,J,q,X]);return(0,r.jsx)(c.Provider,{value:Y,children:t})});y.displayName="InputContextProvider";try{c.displayName||(c.displayName="InputContext")}catch{}},21468:(e,t,i)=>{i.d(t,{U2:()=>c,dv:()=>p});var r=i(74848),a=i(64515),l=i(96540),s=i(28972),o=i(32599),n=i(34532),u=i(73476);let d=(0,l.createContext)(void 0),c=()=>{let e=(0,l.useContext)(d);if(!e)throw Error("useFilter must be used inside a FilterProvider");return e},p=({children:e,context:t,customParser:i,rawFilter:c,filterDelimiter:p=s.a7.filterDelimiter,inputRef:v=null,onChange:y,onClear:m,onParse:h,onSubmit:g,onValidation:f,providers:x,settings:_,valueDelimiter:N=s.a7.valueDelimiter,variant:I})=>{let k=(0,l.useMemo)(()=>({filterDelimiter:p,valueDelimiter:N,...s.Fy,..._,variant:I}),[p,_,N,I]),b=(0,l.useRef)(null);(0,a.T)(v,b);let w=(0,l.useRef)(null),S=(0,l.useRef)(null),C=(0,l.useId)(),B=(0,l.useMemo)(()=>({config:k,id:C,inputContextRef:S}),[k,C,S]);return(0,l.useEffect)(()=>{S.current?.updateRawFilterValue(c)},[c]),(0,r.jsx)(d.Provider,{value:B,children:(0,r.jsx)(o.xI,{customParser:i,context:t,filterConfig:k,providers:x,inputRef:b,onChange:y,onClear:m,onParse:h,onSubmit:g,onValidation:f,rawFilter:c,children:(0,r.jsx)(u.Yl,{caretRef:w,inputRef:b,children:(0,r.jsx)(n.NH,{caretRef:w,inputRef:b,ref:S,value:c,filterConfig:k,children:e})})})})};try{d.displayName||(d.displayName="FilterContext")}catch{}try{p.displayName||(p.displayName="FilterContextProvider")}catch{}},73476:(e,t,i)=>{let r;i.d(t,{Rx:()=>_,Yl:()=>I,Pt:()=>x});var a=i(74848),l=i(51012),s=i(96540),o=i(55782),n=i(69676),u=i(81425),d=i(58748);let c=/:|,|\s(?=(?:[^"]*"[^"]*")*[^"]*$)/g;var p=i(31911),v=i(37932),y=i(7572);let m=(e="")=>{r&&clearTimeout(r),r=setTimeout(()=>{(0,y.i)(e)},150)};var h=i(32599),g=i(21468);let f=(0,s.createContext)(void 0),x=()=>{let e=(0,s.useContext)(f);if(!e)throw Error("useSuggestions must be used inside a SuggestionsContext");return e},_=25;function N(e,t){let i=(t?.value.values??[]).map(e=>(0,v.M5)(e.value)),r=e.suggestions.filter(e=>{let t=(0,v.I8)(e.value)??"";return!i.includes(t)});return{...e,suggestions:r}}let I=({children:e,caretRef:t,inputRef:i})=>{let{config:r,inputContextRef:y}=(0,g.U2)(),{filterQuery:x,filterProviders:I,insertIntoQuery:k,rawFilterRef:b,replaceActiveBlockWithPresenceBlock:w,updateFilter:S,updateFromExternal:C}=(0,h.g0)(),B=(0,s.useRef)(null),F=(0,s.useRef)(null),{position:T,updatePosition:P}=function(e,t=[]){let i=(0,u.L)(e?.floatingElementRef),r=(0,u.L)(e?.caretElementRef),a=(0,u.L)(e?.inputElementRef),[o,p]=(0,s.useState)(void 0),v=()=>{let e;let t=Array.from(a.current?.closest(".styled-input-container")?.querySelectorAll(".delimiter")??[]),i=a.current?.value;if(!i||!a.current.selectionStart)return null;let r=[...i.slice(0,a.current.selectionStart).matchAll(c)];if(r.length<1)return a.current;for(let i=r.length??0;i>0;i--){let r=t?.[i-1];if(r&&!r?.classList.contains("text-delimiter")){e=r;break}}return e??a.current},y=(0,s.useCallback)(()=>{let t=v()??a.current;i.current instanceof Element&&t instanceof Element?p((0,n.uG)(i.current,t,e)):p(void 0)},[i,r,...t]);return(0,l.N)(y,[y]),(0,d.w)(y),{floatingElementRef:i,caretElementRef:r,position:o,updatePosition:y}}({caretElementRef:t,floatingElementRef:F,inputElementRef:i,side:"outside-bottom",align:"start",alignmentOffset:-16,allowOutOfBounds:!1},[F.current,y.current?.styledInputBlockCount]),[$,V]=(0,s.useState)(!1),[j,A]=(0,s.useState)(!1),[O,D]=(0,s.useState)([]),[E,R]=(0,s.useState)(-1),L=(0,s.useCallback)(()=>{j||A(!0)},[j]),M=(0,s.useCallback)(()=>{A(!1),R(-1)},[]),q=(0,s.useCallback)(async(e,t)=>{let a=!0;if("button"===r.variant||y.current?.isComposing)return;D([]),P();let l=e??x,s=t??i.current?.selectionStart??-1,n={id:"cached-suggestions",suggestions:[]},u=n,d=[],c=l.activeBlock,h=c&&(0,v.v7)(c)?c:void 0,g=c?(0,v.DS)(c,s):"",f=g&&h&&h.provider?.isCompleteResultSetQuery?.(g);if(h){let[e]=(0,v.t4)(h,s);"value"===e&&g&&(u=N(n={id:"cached-suggestions",suggestions:h.provider?.findPrefetchedSuggestions?.(g)??[]},h))&&u.suggestions.length>0&&(L(),m(`${u.suggestions.length} ${1===u.suggestions.length?"suggestion":"suggestions"}`),D([u]))}if(u.suggestions.length<_&&!f){h&&h.provider?.isCompleteResultSetQuery?.(g)!==void 0&&V(!0),d=await l.getSuggestions(s,I,r),d[0]?.suggestions.unshift(...n.suggestions);let e=new Set;d[0]&&(d[0].suggestions=d[0]?.suggestions.filter(t=>{let i=v.I8(t.value)??"";return!e.has(i)&&e.add(i)})),d[0]&&c?.type===p._B.Text&&c.raw.startsWith("-")&&(d[0].title=o.D.exclude)}else d=[n];if(h){let e=(0,v.DS)(h,s);1===d.length&&d[0]?.suggestions[0]?.value===e&&e.length>0&&(a=!1)}d[0]&&(d[0]=N(d[0],h),d[0].suggestions=d[0].suggestions.slice(0,_)),(0,v.Ed)(l,b?.current)&&l.isValidated&&(m(`${d.length} ${1===d.length?"suggestion":"suggestions"}`),D(d),0===n.suggestions.length&&R(-1),d.length>0&&a&&y.current?.inputHasFocus?L():M()),V(!1)},[r,x,i,I,L,P,b,y,M]),H=(0,s.useCallback)(e=>{let t;R(-1);let a=x.activeBlock,l=e.value.toString().startsWith("-"),s=!1;if(e.value===o.D.dividerValue)return;"keyword"===e.type?t=(0,v.jQ)(e.value):a&&a.type===p._B.Filter?l?t=(0,v.jQ)(e.value):(t=(0,v.jQ)(e.value),s=!0,M()):(t=(0,v.jQ)(e.value),"-"!==e.value&&(t+=r.filterDelimiter));let n=i.current?.selectionStart??-1;e.type===p.ak.NoValue?w("no"):e.type===p.ak.HasValue?w("has"):t?k(t,n,s):S()},[r.filterDelimiter,x.activeBlock,M,i,k,w,S]);(0,l.N)(()=>{C(async e=>{(0,v.Ed)(e,b?.current)&&await q(e,i.current?.selectionStart??-1)})},[b,q,x.raw,x,C,i]);let G=(0,s.useMemo)(()=>({activeSuggestion:E,hideSuggestions:M,isFetchingSuggestions:$,position:T,showSuggestions:L,suggestionGroups:O,suggestionsListRef:F,suggestionSelected:H,suggestionsVisible:j,setActiveSuggestion:R,updateSuggestions:q,activeSuggestionRef:B}),[E,B,M,$,T,L,O,H,j,q]);return(0,a.jsx)(f.Provider,{value:G,children:e})};try{f.displayName||(f.displayName="SuggestionsContext")}catch{}try{I.displayName||(I.displayName="SuggestionsContextProvider")}catch{}},40777:(e,t,i)=>{i.d(t,{d:()=>n});var r=i(74848),a=i(22868),l=i(30729),s=i(37932);let o={GitHubAvatar_0:"ValueIcon-module__GitHubAvatar_0--SPpxy",Box_0:"ValueIcon-module__Box_0--wnfjP"},n=({value:e,providerIcon:t,squareIcon:i=!1})=>{if(e.avatar?.url)return(0,r.jsx)(a.r,{src:e.avatar.url,alt:(0,s.I8)(e.value)??"User Avatar",square:i,className:o.GitHubAvatar_0});if(e.iconColor&&!e.icon)return(0,r.jsx)("div",{style:{backgroundColor:e.iconColor},className:o.Box_0});if(e.icon){let t=e.iconColor?`${e.iconColor} !important`:"currentcolor";return(0,r.jsx)(l.A,{icon:e.icon,fill:t})}return t?(0,r.jsx)(l.A,{icon:t}):null};try{n.displayName||(n.displayName="ValueIcon")}catch{}}}]);
//# sourceMappingURL=ui_packages_document-metadata_document-metadata_ts-ui_packages_filter_providers_index_ts-1a73e9f473fe.js.map